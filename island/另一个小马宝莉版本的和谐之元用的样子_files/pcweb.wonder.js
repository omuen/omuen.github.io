/*Built by pcw player group @3/18/2021, 4:08:17 PM */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).QiyiPlayerLoader=t()}(this,function(){"use strict";var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)};function __extends(e,t){function a(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}var PlayerVersion="5.1.261";function mixin(a,e,r,i){function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function t(e,t){var a;for(a in e)if(n(e,a)&&t(e[a],a))break}return e&&t(e,function(e,t){!r&&n(a,t)||(i&&"string"!=typeof e&&"boolean"!=typeof e?(a[t]||(a[t]={}),mixin(a[t],e,r,i)):a[t]=e)}),a}var licked={},cookie={get:function(e,t){var a="",r,i;return(t=mixin({memory:!1},t,!0)).memory&&Object.prototype.hasOwnProperty.call(licked,e)?a=licked[e]:(!new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(e)||(i=new RegExp("(^| )"+e+"=([^;]*)(;|$)").exec(document.cookie))&&(a=i[2]||""),"string"==typeof a&&(a=decodeURIComponent(a)),t.memory&&(licked[e]=a)),a},set:function(e,t,a){a=a||{},t=encodeURIComponent(t);var r=a.expires;"number"==typeof a.expires&&(r=a.expires<=0?new Date(0):new Date).setTime(r.getTime()+a.expires),delete licked[e],document.cookie=e+"="+t+(a.path?"; path="+a.path:"")+(r?"; expires="+r.toUTCString():"")+(a.domain?"; domain="+a.domain:"")},remove:function(e,t){(t=t||{}).expires=-1,this.set(e,"",t)}},objectCreate=Object.create||objectCreatePolyfill,objectKeys=Object.keys||objectKeysPolyfill,bind=Function.prototype.bind||functionBindPolyfill,defaultMaxListeners=20,Dispatcher=(O.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},O.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},O.prototype.getMaxListeners=function(){return $getMaxListeners(this)},O.prototype.emit=function(e){var t,a,r,i,n,o,s="error"===e,o=this._events;if(o)s=s&&null==o.error;else if(!s)return!1;if(s){if((t=1<arguments.length?arguments[1]:t)instanceof Error)throw t;var s=new Error('Unhandled "error" event. ('+t+")");throw s.context=t,s}if(!(a=o[e]))return!1;var l="function"==typeof a,r;switch(r=arguments.length){case 1:emitNone(a,l,this);break;case 2:emitOne(a,l,this,arguments[1]);break;case 3:emitTwo(a,l,this,arguments[1],arguments[2]);break;case 4:emitThree(a,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),n=1;n<r;n++)i[n-1]=arguments[n];emitMany(a,l,this,i)}return!0},O.prototype.on=function(e,t,a){return _addListener(this,e,t,a="object"!=typeof(a=void 0===a?{highPriority:!1}:a)?{}:a)},O.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,_onceWrap(this,e,t)),this},O.prototype.off=function(e,t){return _removeListener.call(this,e,t)},O.prototype.un=function(e,t){this.off(e,t)},O.prototype.removeAllListeners=function(e){var t,a,r,a=this._events;if(!a)return this;if(!a.off)return 0===arguments.length?(this._events=objectCreate(null),this._eventsCount=0):a[e]&&(0==--this._eventsCount?this._events=objectCreate(null):delete a[e]),this;if(0===arguments.length){for(var i=objectKeys(a),n,r=0;r<i.length;++r)"off"!==(n=i[r])&&this.removeAllListeners(n);return this.removeAllListeners("off"),this._events=objectCreate(null),this._eventsCount=0,this}if("function"==typeof(t=a[e]))this.off(e,t);else if(t)for(r=t.length-1;0<=r;r--)this.off(e,t[r]);return this},O.prototype.listeners=function(e){return _listeners(this,e,!0)},O.prototype.rawListeners=function(e){return _listeners(this,e,!1)},O.prototype.listenerCount=function(){return O.listenerCount.apply(this,arguments)},O),hasDefineProperty;function O(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=objectCreate(null),this._eventsCount=0),this._maxListeners=this._maxListeners||undefined}try{var o={};Object.defineProperty&&Object.defineProperty(o,"x",{value:0}),hasDefineProperty=0===o.x}catch(err){hasDefineProperty=!1}function $getMaxListeners(e){return e._maxListeners===undefined?Dispatcher.defaultMaxListeners:e._maxListeners}function emitNone(e,t,a){if(t)e.call(a);else for(var r=e.length,i=arrayClone(e,r),n=0;n<r;++n)try{i[n].call(a)}catch(o){}}function emitOne(e,t,a,r){if(t)e.call(a,r);else for(var i=e.length,n=arrayClone(e,i),o=0;o<i;++o)try{n[o].call(a,r)}catch(s){}}function emitTwo(e,t,a,r,i){if(t)e.call(a,r,i);else for(var n=e.length,o=arrayClone(e,n),s=0;s<n;++s)try{o[s].call(a,r,i)}catch(l){}}function emitThree(e,t,a,r,i,n){if(t)e.call(a,r,i,n);else for(var o=e.length,s=arrayClone(e,o),l=0;l<o;++l)try{s[l].call(a,r,i,n)}catch(c){}}function emitMany(e,t,a,r){if(t)e.apply(a,r);else for(var i=e.length,n=arrayClone(e,i),o=0;o<i;++o)try{n[o].apply(a,r)}catch(s){}}function _addListener(e,t,a,r){var i,r,n,i=!!(r=void 0===r?{}:r).highPriority,i,i;if("function"!=typeof a)throw new TypeError('"listener" argument must be a function');return(r=e._events)?(r.newListener&&(e.emit("newListener",t,a.listener||a),r=e._events),n=r[t]):(r=e._events=objectCreate(null),e._eventsCount=0),n?("function"==typeof n?n=r[t]=[n,a]:i?n.shift(a):n.push(a),n.warned||(i=$getMaxListeners(e))&&0<i&&n.length>i&&(n.warned=!0,(i=new Error("Possible Dispatcher memory leak detected. "+n.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.')).name="MaxListenersExceededWarning",i.emitter=e,i.type=t,i.count=n.length)):(n=r[t]=a,++e._eventsCount),e}function _removeListener(e,t){var a,r,i,n,o;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(a=r[e]))return this;if(a===t||a.listener===t)0==--this._eventsCount?this._events=objectCreate(null):(delete r[e],r.off&&this.emit("off",e,a.listener||t));else if("function"!=typeof a){for(i=-1,n=a.length-1;0<=n;n--)if(a[n]===t||a[n].listener===t){o=a[n].listener,i=n;break}if(i<0)return this;0===i?a.shift():spliceOne(a,i),1===a.length&&(r[e]=a[0]),r.off&&this.emit("off",e,o||t)}return this}function onceWrapper(){if(!this.fired)switch(this.target.off(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function _onceWrap(e,t,a){var e={fired:!1,wrapFn:undefined,target:e,type:t,listener:a},t=bind.call(onceWrapper,e);return t.listener=a,e.wrapFn=t}function _listeners(e,t,a){var e=e._events;if(!e)return[];var t=e[t];return t?"function"==typeof t?a?[t.listener||t]:[t]:a?unwrapListeners(t):arrayClone(t,t.length):[]}function listenerCount(e){var t=this._events;if(t){var e=t[e];if("function"==typeof e)return 1;if(e)return e.length}return 0}function spliceOne(e,t){for(var a=t,r=a+1,i=e.length;r<i;a+=1,r+=1)e[a]=e[r];e.pop()}function arrayClone(e,t){for(var a=new Array(t),r=0;r<t;++r)a[r]=e[r];return a}function unwrapListeners(e){for(var t=new Array(e.length),a=0;a<t.length;++a)t[a]=e[a].listener||e[a];return t}function objectCreatePolyfill(e){var t=function(){};return t.prototype=e,new t}function objectKeysPolyfill(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t);return t}function functionBindPolyfill(e){var t=this;return function(){return t.apply(e,arguments)}}hasDefineProperty?Object.defineProperty(Dispatcher,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');defaultMaxListeners=e}}):Dispatcher.defaultMaxListeners=defaultMaxListeners;var chrsz=8;function core_md5(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var a=1732584193,r=-271733879,i=-1732584194,n=271733878,o=0;o<e.length;o+=16){var s=a,l=r,c=i,p=n,a=md5_ff(a,r,i,n,e[o+0],7,-680876936),n=md5_ff(n,a,r,i,e[o+1],12,-389564586),i=md5_ff(i,n,a,r,e[o+2],17,606105819),r=md5_ff(r,i,n,a,e[o+3],22,-1044525330);a=md5_ff(a,r,i,n,e[o+4],7,-176418897),n=md5_ff(n,a,r,i,e[o+5],12,1200080426),i=md5_ff(i,n,a,r,e[o+6],17,-1473231341),r=md5_ff(r,i,n,a,e[o+7],22,-45705983),a=md5_ff(a,r,i,n,e[o+8],7,1770035416),n=md5_ff(n,a,r,i,e[o+9],12,-1958414417),i=md5_ff(i,n,a,r,e[o+10],17,-42063),r=md5_ff(r,i,n,a,e[o+11],22,-1990404162),a=md5_ff(a,r,i,n,e[o+12],7,1804603682),n=md5_ff(n,a,r,i,e[o+13],12,-40341101),i=md5_ff(i,n,a,r,e[o+14],17,-1502002290),a=md5_gg(a,r=md5_ff(r,i,n,a,e[o+15],22,1236535329),i,n,e[o+1],5,-165796510),n=md5_gg(n,a,r,i,e[o+6],9,-1069501632),i=md5_gg(i,n,a,r,e[o+11],14,643717713),r=md5_gg(r,i,n,a,e[o+0],20,-373897302),a=md5_gg(a,r,i,n,e[o+5],5,-701558691),n=md5_gg(n,a,r,i,e[o+10],9,38016083),i=md5_gg(i,n,a,r,e[o+15],14,-660478335),r=md5_gg(r,i,n,a,e[o+4],20,-405537848),a=md5_gg(a,r,i,n,e[o+9],5,568446438),n=md5_gg(n,a,r,i,e[o+14],9,-1019803690),i=md5_gg(i,n,a,r,e[o+3],14,-187363961),r=md5_gg(r,i,n,a,e[o+8],20,1163531501),a=md5_gg(a,r,i,n,e[o+13],5,-1444681467),n=md5_gg(n,a,r,i,e[o+2],9,-51403784),i=md5_gg(i,n,a,r,e[o+7],14,1735328473),a=md5_hh(a,r=md5_gg(r,i,n,a,e[o+12],20,-1926607734),i,n,e[o+5],4,-378558),n=md5_hh(n,a,r,i,e[o+8],11,-2022574463),i=md5_hh(i,n,a,r,e[o+11],16,1839030562),r=md5_hh(r,i,n,a,e[o+14],23,-35309556),a=md5_hh(a,r,i,n,e[o+1],4,-1530992060),n=md5_hh(n,a,r,i,e[o+4],11,1272893353),i=md5_hh(i,n,a,r,e[o+7],16,-155497632),r=md5_hh(r,i,n,a,e[o+10],23,-1094730640),a=md5_hh(a,r,i,n,e[o+13],4,681279174),n=md5_hh(n,a,r,i,e[o+0],11,-358537222),i=md5_hh(i,n,a,r,e[o+3],16,-722521979),r=md5_hh(r,i,n,a,e[o+6],23,76029189),a=md5_hh(a,r,i,n,e[o+9],4,-640364487),n=md5_hh(n,a,r,i,e[o+12],11,-421815835),i=md5_hh(i,n,a,r,e[o+15],16,530742520),a=md5_ii(a,r=md5_hh(r,i,n,a,e[o+2],23,-995338651),i,n,e[o+0],6,-198630844),n=md5_ii(n,a,r,i,e[o+7],10,1126891415),i=md5_ii(i,n,a,r,e[o+14],15,-1416354905),r=md5_ii(r,i,n,a,e[o+5],21,-57434055),a=md5_ii(a,r,i,n,e[o+12],6,1700485571),n=md5_ii(n,a,r,i,e[o+3],10,-1894986606),i=md5_ii(i,n,a,r,e[o+10],15,-1051523),r=md5_ii(r,i,n,a,e[o+1],21,-2054922799),a=md5_ii(a,r,i,n,e[o+8],6,1873313359),n=md5_ii(n,a,r,i,e[o+15],10,-30611744),i=md5_ii(i,n,a,r,e[o+6],15,-1560198380),r=md5_ii(r,i,n,a,e[o+13],21,1309151649),a=md5_ii(a,r,i,n,e[o+4],6,-145523070),n=md5_ii(n,a,r,i,e[o+11],10,-1120210379),i=md5_ii(i,n,a,r,e[o+2],15,718787259),r=md5_ii(r,i,n,a,e[o+9],21,-343485551),a=safe_add(a,s),r=safe_add(r,l),i=safe_add(i,c),n=safe_add(n,p)}return Array(a,r,i,n)}function md5_cmn(e,t,a,r,i,n){return safe_add(bit_rol(safe_add(safe_add(t,e),safe_add(r,n)),i),a)}function md5_ff(e,t,a,r,i,n,o){return md5_cmn(t&a|~t&r,e,t,i,n,o)}function md5_gg(e,t,a,r,i,n,o){return md5_cmn(t&r|a&~r,e,t,i,n,o)}function md5_hh(e,t,a,r,i,n,o){return md5_cmn(t^a^r,e,t,i,n,o)}function md5_ii(e,t,a,r,i,n,o){return md5_cmn(a^(t|~r),e,t,i,n,o)}function safe_add(e,t){var a=(65535&e)+(65535&t),r;return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}function bit_rol(e,t){return e<<t|e>>>32-t}function str2binl(e){for(var t=Array(),a=(1<<chrsz)-1,r=0;r<e.length*chrsz;r+=chrsz)t[r>>5]|=(e.charCodeAt(r/chrsz)&a)<<r%32;return t}function binl2hex(e){for(var t="0123456789abcdef",a="",r=0;r<4*e.length;r++)a+=t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15);return a}function md5(e){return binl2hex(core_md5(str2binl(e),e.length*chrsz))}var isBool=function(e){return"boolean"==typeof e},isNum=function(e){return"number"==typeof e&&!isNaN(e)},isObject=function(e){return"[object object]"===Object.prototype.toString.call(e).toLowerCase()},isArray=function(e){var e,e=Array.isArray?Array.isArray(e):"[object array]"===Object.prototype.toString.call(e).toLowerCase();return e},formatMilliseconds=function(e){if(isNaN(e))return"00:00:00";var t=3600<=(e=Math.round(e))?Math.floor(e/3600):0,a,a=10<=(a=60<=e%3600?Math.floor(e%3600/60):0)?a:"0"+a;return e=10<=(e=0<=parseInt(a,10)?e%3600%60:e)?e:"0"+e,0<t?(9<t?t:"0"+t)+":"+a+":"+e:a+":"+e},protocolRevise=function(e){var t="",t;return t=(t=(t=(e=void 0===e?"":e).replace("http://","//")).replace("https://","//")).replace(".qiyipic",".iqiyipic")},hex2rgba=function(e,t){void 0===t&&(t=1);for(var a=[],r=1;r<e.length;){var i=e.substring(r,r+2);a.push(parseInt(i,16)),r+=2}return a.push(t),"rgba("+a.join(",")+")"},util={isBool:isBool,isNumber:isNum,isArray:isArray,isObject:isObject,formatMilliseconds:formatMilliseconds,protocolRevise:protocolRevise,hex2rgba:hex2rgba},doc=document,noop=function(){},cacheMappingURL={},accepts={"*":"*/".concat("*"),text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},converters={"*":null,text:null,html:null,xml:null,json:function(e){var t={},a=window.JSON?JSON.parse:function(){return{}};try{t=a(e)}catch(r){}return t}},defaultOptions={method:"get",dataType:"*",timeout:1e4,charset:"utf-8",cache:!0,withCredentials:!0,jsonpCallback:"callback",complete:noop,success:noop,failure:noop},_paramFormat=function(e){var t=[];if("object"==typeof e)for(var a in e)t[t.length]=encodeURIComponent(a)+"="+encodeURIComponent(e[a]);return t.join("&").replace(/%20/g,"+")},ajax=function(p){mixin(p=p||{},defaultOptions);var d=p.url,f=p.dataType,_=p.params||{},u=p.success,y=p.failure,e;d&&function(){var r={},e=p.headers,t=p.data||null,a=_paramFormat(_);r.params=_,r.url=d+(0<a.length?(/\?/i.test(d)?"&":"?")+a:""),"function"==typeof p.beforeSend&&(r=p.beforeSend(r));var i="",n=!1,o=new XMLHttpRequest;if(o.withCredentials=p.withCredentials,o.onreadystatechange=l,o.ontimeout=c,o.open(p.method,r.url,!0),o.timeout=p.timeout,o.setRequestHeader("Accept",accepts[f]),util.isObject(e))for(var s in e)o.setRequestHeader(s,e[s]);function l(){var e;if(i+=", readyState = "+o.readyState,4==o.readyState)if(e=converters[f]?converters[f](o.responseText):o.responseText,i+=", status = "+o.status+", statusText = "+o.statusText,200==o.status){if("json"===f&&"string"==typeof e)try{e=JSON.parse(e)}catch(a){}u(e)}else if(!n){n=!0;var t="";try{t=JSON.stringify(e)}catch(a){t=" json error"}i+=", data = "+t+"url = "+r.url,y("xhr error, time = "+p.timeout+i)}}function c(e){var e;n||(n=!0,e="xhr timeout, time = "+p.timeout+", readyState = "+o.readyState+", status = "+o.status+", data = "+JSON.stringify(e)+"url = "+r.url,y(e))}o.send(t)}()},xhrJSON=function(e){mixin(e=e||{},defaultOptions),e.dataType="json",ajax(e)},jsonp=function(e){mixin(e=e||{},defaultOptions);var t=e.url,a=e.params||{},r=_paramFormat(a),i=t+(0<r.length?(/\?/i.test(t)?"&":"?")+r:""),n=e.complete,o=e.success,s=e.failure,l=(e.callbackhead||"Q")+md5(e.fixedCallback||i),c=!!e.memory,p=md5(i),d=cacheMappingURL[p];if(i){if(!(c&&d&&o)){var f=function(e,t,a){switch(_(),e){case"success":c&&(cacheMappingURL[p]=a),o(a);break;case"fail":s(a,t)}n(a)},_=function(){if(window[l]){window[l]=undefined;try{delete window[l]}catch(e){}}},u;window[l]=function(e){_(),setTimeout(function(){f("success","200",e)},0)};var t={},y=doc.createElement("script");y.async=!0,y.type="text/javascript",y.charset=e.charset;var h=function(){if(y)try{y.onload(null,!0)}catch(e){}};y.abort=h,y.onload=y.onreadystatechange=function(e,t){!t&&y.readyState&&!/loaded|complete/.test(y.readyState)||(y.onload=y.onreadystatechange=null,y.parentNode&&y.parentNode.removeChild(y),y=null,clearTimeout(u))},y.onerror=function(){f("fail",null),h()};var u=setTimeout(function(){f("fail",408),h()},e.timeout),r={};return r[e.jsonpCallback]=l,mixin(a,r,!0),t.url=i+(/\?/i.test(i)?"&":"?")+_paramFormat(r),t.params=a,"function"==typeof e.beforeSend&&(t=e.beforeSend(t)||t),y.src=t.url,doc.getElementsByTagName("head")[0].appendChild(y),y}o(d)}},beacon=function(e,t,a){if("string"==typeof t){var a=a===undefined||a;if(e){var r=[],i;for(i in a&&(e._=+new Date),e)r.push(i+"="+encodeURIComponent(e[i]));var t=t+"?"+r.join("&"),n=new Image;n.onload=n.onerror=n.onabort=function(){n.onload=n.onerror=n.onabort=null,n=null},n.src=t}}},http={serializeParam:_paramFormat,ajax:ajax,json:xhrJSON,jsonp:jsonp,beacon:beacon},data={},changeData={},deleteData={},tMark=0,storage={getItem:function(e){return data[e]},setItem:function(e,t){data[e]=t},removeItem:function(e){delete data[e]}},ls=function(){try{return window.localStorage.setItem("_Q_test_",1),window.localStorage.removeItem("_Q_test_"),window.localStorage}catch(e){}return storage}(),updateStorage=function(){0===tMark&&(clearTimeout(tMark),tMark=setTimeout(function(){for(var e in tMark=0,changeData)ls.setItem(e,changeData[e]),delete changeData[e];for(var t in deleteData)ls.removeItem(t),delete deleteData[t]},1e3))},storage$1={PLAYER_VD_KEY:"QiyiPlayerVD",read:function(e){return data[e]||(data[e]=ls.getItem(e)),data[e]},write:function(e,t){data[e]=t,changeData[e]=t,updateStorage()},remove:function(e){delete data[e],deleteData[e]=0,updateStorage()}},loggerMessageChanged=!1,LOGGER_MESSAGE="",AD_LOGGER_MESSAGE="",LOGGER_KEY="QiyiPlayerLogger",LOGGER_LEVEL_KEY="QiyiPlayerLoggerLevel",COLOR_BG_NORMAL="#FFA500",COLOR_BG_WARN="#ff6cb7",COLOR_BG_ERROR="#F30",COLOR_BG_DEBUG="#FFA500",Levels={OFF:{value:0,name:"OFF"},ERROR:{value:1,name:"ERROR"},WARN:{value:2,name:"WARN"},INFO:{value:3,name:"INFO"},DEBUG:{value:4,name:"DEBUG"}},filterLevelInStore=parseInt(storage$1.read(LOGGER_LEVEL_KEY),10),slice=Array.prototype.slice,DefaultLoggerName="Unknown",prelogInfo="",repeatNum=0,prelog="",pad=function(e,t){var a="",r=e<0,e=String(Math.abs(e));return(r?"-":"")+(a=e.length<t?new Array(t-e.length+1).join("0"):a)+e},timeLabel=function(){var e=new Date;return e.getFullYear()+"-"+pad(e.getMonth()+1,2)+"-"+pad(e.getDate(),2)+" "+pad(e.getHours(),2)+":"+pad(e.getMinutes(),2)+":"+pad(e.getSeconds(),2)+(e.getMilliseconds?"."+pad(e.getMilliseconds(),3):"")},checkrepeat=function(e){var t=e.join("");prelog!==t?(prelog=t,repeatNum=0):(1<++repeatNum&&(LOGGER_MESSAGE=(LOGGER_MESSAGE=LOGGER_MESSAGE.replace(prelogInfo,"")).substring(0,LOGGER_MESSAGE.length-2)),e.push(">>repeat("+repeatNum+")<<"))},logHandler=function(e,t){var a,r=COLOR_BG_NORMAL,i;if(e=slice.call(e),checkrepeat(e),e.unshift("%c"),t.name!==DefaultLoggerName&&e.unshift("["+t.name+"]"),e.unshift("%c["+timeLabel()+" "+t.level.name+"]"),t.level!==Levels.DEBUG&&(prelogInfo=e.join("").replace(/%c/gi,""),LOGGER_MESSAGE=(""!==(i=LOGGER_MESSAGE||"")?i+"\n":"")+prelogInfo,loggerMessageChanged=!0),"undefined"!=typeof console)try{a=console.log,t.level===Levels.WARN&&console.warn?(a=console.warn,r=COLOR_BG_WARN):t.level===Levels.ERROR&&console.error?(a=console.error,r=COLOR_BG_ERROR):t.level===Levels.INFO&&console.info?a=console.info:t.level===Levels.DEBUG&&console.debug&&(a=console.debug,r=COLOR_BG_DEBUG),t.print&&a.apply(console,[e.join(" ")+" ","background-color:#699f00;color:#fff;","background-color:"+r+";color:#fff;"])}catch(n){}},PlayerLogger=(ff.stringify=function(e){var t="";try{t=JSON.stringify(e)}catch(a){}return t},ff.setLevel=function(e){e&&"value"in e&&(ff._filterLevel=e,storage$1.write(LOGGER_LEVEL_KEY,e.value))},ff.getLevel=function(){if(!ff._filterLevel){var e=Levels.WARN,t;for(t in Levels)Levels[t].value===filterLevelInStore&&(e=Levels[t]);ff._filterLevel=e}return ff._filterLevel},ff.getLog=function(){return LOGGER_MESSAGE+"\n\n\n **** ad log ****\n"+AD_LOGGER_MESSAGE},ff.saveImmediately=function(){writeLogInstantly()},ff.prototype.enabledFor=function(e){return e.value<=ff.getLevel().value},ff.prototype.invoke=function(e,t){logHandler(t,mixin({level:e,print:this.enabledFor(e)},this.context))},ff.prototype.debug=function(){this.invoke(Levels.DEBUG,arguments)},ff.prototype.log=function(){this.invoke(Levels.INFO,arguments)},ff.prototype.info=function(){this.invoke(Levels.INFO,arguments)},ff.prototype.adInfo=function(e){AD_LOGGER_MESSAGE=e},ff.prototype.warn=function(){this.invoke(Levels.WARN,arguments)},ff.prototype.error=function(){this.invoke(Levels.ERROR,arguments)},ff);function ff(e){this.context={name:e||DefaultLoggerName}}PlayerLogger.Levels=Levels;var period=3e4,M=1048576,limitSize=.5*M;function truncateLog(e,t){var a="\n",r,a=LOGGER_MESSAGE.split(a).slice(0,16).join(a)+a+"~~~~~truncated log~~~~~"+a;LOGGER_MESSAGE=a+LOGGER_MESSAGE.slice(a.length<e?e:a.length,t)}function writeLogInstantly(){var e=LOGGER_MESSAGE.length;limitSize<e&&truncateLog(e-limitSize,e),storage$1.write(LOGGER_KEY,LOGGER_MESSAGE+"\n\n\n **** ad log ****\n"+AD_LOGGER_MESSAGE)}function cronLogIntoStore(){loggerMessageChanged&&(loggerMessageChanged=!1,writeLogInstantly()),setTimeout(cronLogIntoStore,period)}setTimeout(cronLogIntoStore,period);var _parse=function(e){var t="",a="",r="",i="",n=/(\w+):\/\/([^\/:]+):?(\d*)((?:\/|$)[^?#]*)/,n=e.match(n);return n&&(t=n[1],a=n[2],r=n[3],i=n[4]),{protocol:t,host:a,port:r,path:i}},_queryToJson=function(e){for(var t,a=e.substr(e.lastIndexOf("?")+1).split("&"),r=a.length,i={},n=0,o,s,l,s;n<r;n++)a[n]&&(o=(s=a[n].split("=")).shift(),s=s.join("="),void 0===(l=i[o])&&(i[o]=s));return i},_getQueryValue=function(e,t){1===arguments.length&&(t=e,e=window.location.href);var t=String(t).replace(new RegExp("([.*+?^=!:${}()|[\\]/\\\\])","g"),"\\$1"),t=new RegExp("(^|&|\\?|#)"+t+"=([^&#]*)(&|$|#)",""),t=e.match(t);return t?t[2]:""},_filename=function(e){var e=_parse(e),t;return(e&&e.path||"").replace(/^.*[\\\/]/,"").split(".")[0]},urlkit={parse:_parse,query:_getQueryValue,query2Json:_queryToJson,filename:_filename},CON_TYPE={PlayerType_Html5VOD:"h5_VOD",PlayerType_FlashVOD:"flash_VOD",PlayerType_Null:"null",QYPLAYER_STATUS_LOAD_MOVIE:"loadmovie",QYPLAYER_STATUS_DATA_READY:"dataready",QYPLAYER_STATUS_AD_START_PLAY:"adstartplay",QYPLAYER_STATUS_AD_PLAYING:"adplaying",QYPLAYER_STATUS_AD_PAUSED:"adpaused",QYPLAYER_STATUS_AD_RESUMED:"adresumed",QYPLAYER_STATUS_READY:"ready",QYPLAYER_STATUS_START_PLAY:"startplay",QYPLAYER_STATUS_SEEKING:"seeking",QYPLAYER_STATUS_WAITING:"waiting",QYPLAYER_STATUS_PAUSED:"paused",QYPLAYER_STATUS_PLAYING:"playing",QYPLAYER_STATUS_STOPED:"stoped",QYPLAYER_STATUS_ERROR:"error",QYPLAYER_STATUS_END_PLAY:"endplay",QYPLAYER_LOAD_COMPLETE:"loadcomplete",QYPLAYER_LOAD_SUCCESS:"playerLoadSuccess",QYPLAYER_STATE_CHANGE:"playerStateChange",QYPLAYER_VIDEO_CHANGE:"videoChanged",QYPLAYER_VID_CHANGE:"vidChanged",QYPLAYER_NEXT_VIDEO:"playnextvideo",QYPLAYER_SET_LIGHT:"setLight",QYPLAYER_MOVETO_QITAN:"moveToQitan",QYPLAYER_SHOW_LOGIN_PANEL:"showLoginPanel",QYPLAYER_EXPAND:"expand",QYPLAYER_AUTHENTICATION_RESULE:"authenticationResult",QYPLAYER_RECHARGE:"recharge",QYPLAYER_SUBSCRIBE:"subscribe",QYPLAYER_REFRESH_PAGE:"refreshPage",QYPLAYER_DOWNLOAD:"download",QYPLAYER_REQUEST_VIDEOLIST:"requestVideoList",QYPLAYER_REQUEST_VIDEOLIST_BY_PAGE:"requestVideoListByPage",QYPLAYER_REQUEST_CHANGE_VIDEO:"requestChangeVideo",QYPLAYER_SWITCH_FULL_SCREEN:"switchFullScreen",QYPLAYER_ADD_TO_TABLE:"addToTable",QYPLAYER_FOCUS_TIPS:"focusTips",QYPLAYER_FOCUS_UPLOADER:"focusUploader",QYPLAYER_FIND_GOODS:"findGoods",QYPLAYER_PGC_FOLLOW:"pgcFollow",QYPLAYER_SHOW_DOWNLOAD_APPPOP:"showDownLoadAppPop",QYPLAYER_CHECK_CLIENT_INSTALL:"checkClientInstall",QYPLAYER_REQUEST_SEND_PINGBACK:"requestJSSendPB",QYPLAYER_DOSOMETHING:"setJsDoSomething",QYPLAYER_FOLLOW_UPNEXT_LOAD:"followUpNextLoad",QYPLAYER_USER_CLICK_SCORE:"userClickScore",QYPLAYER_BARRAGE_REPLAY:"barrageReply",QYPLAYER_BARRAGE_RECEIVE_DATA:"barrageReceiveData",QYPLAYER_SET_BARRAGE_INTERACT_INFO:"setBarrageInteractInfo",QYPLAYER_NOTIFY_BARRAGE_DATA:"notifyBarrageData",QYPLAYER_SET_BARRAGE_CONFIG_INFO:"setHasBarrageConfigInfo",QYPLAYER_SET_BARRAGE_CHANNEL_CONFIG_INFO:"setHasBarrageChannelConfigInfo",QYPLAYER_BARRAGE_STATE_CHANGE:"barrageStateChange",QYPLAYER_BARRAGE_ALLOWED:"barrageAllowed",QYPLAYER_REQUEST_REWARD:"requestReward",QYPLAYER_COMMENT_ALLOWED:"commentAllowed",QYPLAYER_GET_PLAYER_LOG:"getQiyiPlayerLog",QYPLAYER_WEBFULLSCREEN_BEFORE_CHANGE:"beforeWebFullScreenChange",QYPLAYER_WEBFULLSCREEN_AFTER_CHANGE:"afterWebFullScreenChange",QYPLAYER_FULLSCREEN_BEFORE_CHANGE:"beforeFullScreenChange",QYPLAYER_FULLSCREEN_AFTER_CHANGE:"afterFullScreenChange",QYPLAYER_NOTIFY_GIFT_INFO:"notifyGiftInfo",QYPLAYER_NOTIFY_WRITE_FLASH_LOG:"writeFlashLog",QYPLAYER_SWITCH_PLAYER:"switchPlayer",QYPLAYER_NOTIFY_AD_START:"ADStart",QYPLAYER_NOTIFY_AD_END:"ADEnd",QYPLAYER_NOTIFY_AD_NOTIFY_INFO:"adnotifyinfo",QYPLAYER_NOTIFY_AD_BLOCK:"adblock",QYPLAYER_NOTIFY_TIMEUPDATE:"timeUpdate",QYPLAYER_NOTIFY_SCORECHANGE:"scoreTaskChange",QYPLAYER_NOTIFY_FEEDBACK_SHOW:"feedbackShow",QYPLAYER_NOTIFY_FEEDBACK_HIDE:"feedbackHide",QYPLAYER_NOTIFY_FEEDBACK_PANEL_SHOW:"feedbackPanelShow",QYPLAYER_NOTIFY_USER_SEEK:"userSeek",QYPLAYER_BuyPlay:"buyPlay",QYPLAYER_NOTIFY_TO_DIVERSION:"todiversion",QYPLAYER_NOTIFY_AI_STAR_INFO:"aistarinfo",QYPLAYER_NOTIFY_AI_FEEDBACK:"aifeedback",QYPLAYER_NOTIFY_AI_STAR_CLOSE:"aistarclose",QYPLAYER_NOTIFY_SHOW_VIDEOLIST:"showvideolist",QYPLAYER_NOTIFY_FOLLOW_CLICK:"followbtnclick",QYPLAYER_NOTIFY_INTERACTION_START:"interactionstart",QYPLAYER_NOTIFY_INTERACTION_END:"interactionend",QYPLAYER_H5_VIDEO_LOADSTART:"h5videoloadstart",QYPLAYER_H5_VIDEO_LOADEDMETADATA:"h5videoloadedmetadata",QYPLAYER_H5_DURATION_CHANGED:"h5durationchanged",QYPLAYER_H5_VOLUME_CHANGED:"h5volumechanged",QYPLAYER_H5_SEEK_DRAGSTART:"h5seekdragstart",QYPLAYER_H5_SEEK_DRAGEND:"h5seekdragend"},_uuidTick=0,_newUser=undefined,_veid="",_webEventId=window.webEventID||"",_removeWeid=function(){_webEventId=window.webEventID||""},_genUuid=function(){return md5(window.navigator.userAgent+document.cookie+Math.random()+(new Date).getTime()*_uuidTick++)},saveCookie=function(e,t,a){cookie.set(e,t,{expires:a||31536e6,path:"/",domain:"iqiyi.com"})},_getJsuid=function(){var e="QC006",t=cookie.get(e);return t||(window.QiyiPlayerIsNewUser=!0,t=_genUuid(),saveCookie(e,t)),t},_getFluid=function(){return _checkJSUid()},_checkJSUid=function(){var e="QC005",t,a=cookie.get(e);return a||(a=_genUuid(),saveCookie(e,a,283824e7)),a},UUID={createUUID:function guid(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1).toUpperCase()}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getQtsid:function(){var e,t=/^\d{10}\.\d{10}\.\d{10}\.\d+$/,a=function(){return parseInt(new Date/1e3,10).toString()},a,e;return e=cookie.get("QC008"),cookie.get("QC010")&&e||(t.test(e)?((e=e.split("."))[1]=e[2],e[2]=a(),e[3]=parseInt(e[3],10)+1):e=[a=a(),a,a,"1"],e.join(".")),e},getJsuid:_getJsuid,getFluid:_getFluid,getWeid:function(){return _webEventId=_webEventId||(window.webEventID||md5(_getJsuid()+"weid"+ +new Date))},getEid:function(){var e="";return _veid||(e=_getJsuid(),_veid=md5(e+"veid"+ +new Date)),_veid},getIsNewUser:function(e){var e,t;return(e=void 0===e?!1:e)||_newUser===undefined&&(e="QP0030",1===parseInt(cookie.get(e),10)?_newUser=!1:(_newUser=!0,saveCookie(e,1,283824e7))),window.QiyiPlayerIsNewUser===undefined&&(window.QiyiPlayerIsNewUser=!1,_getJsuid()),window.QiyiPlayerIsNewUser},init:function(){try{window.addEventListener("unload",_removeWeid),window.addEventListener("beforeunload",_removeWeid),window.addEventListener("pagehide",_removeWeid)}catch(e){}}};function platform(){var e="",l={},c={},t=navigator,a=t.platform,r=t.userAgent.toLowerCase(),i=r.match(/rtrident/),n=!i&&r.match(/(ipad).*os\s([\d_]+)/),o=!i&&!n&&r.match(/(iphone\sos)\s([\d_]+)/),s=r.match(/Android\s+([\d.]+)/i),p=r.match(/(?:redmi|hm) ([\w ]+) build/i),d="",t="",f,_,t=navigator.connection&&navigator.connection.effectiveType?navigator.connection.effectiveType:(t=r.match(/NetType\/\w+/)?r.match(/NetType\/\w+/)[0]:"").toLowerCase().replace("nettype/","");c.userAgent=r,c.IE11=/rv\:11/.test(r),c.IE=/msie/.test(r)||c.IE11,c.IE6=/msie 6/.test(r),c.IE7=/msie 7/.test(r),c.IE8=/msie 8/.test(r),c.IE9=/msie 9/.test(r),c.IE10=/msie 10/.test(r),c.EDGE=/edge/.test(r),c.iPhone=/iphone os/.test(r)&&!i,c.iPhone4=/iphone os [45]_/.test(r)&&!i,c.iPad=/ipad/.test(r)&&!i,c.iPod=/iPod/i.test(r)&&!i,c.isTouch="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,c.CHROMEIOS=/crios/.test(r),c.CHROME=/chrome/.test(r)&&!c.EDGE,c.SAFARI=/safari/.test(r)&&!/chrome/.test(r),c.FIREFOX=/firefox/.test(r),c.mobile=/mobile/gi.test(r),c.mobileSafari=c.iPhone||c.iPhone||c.iPad,c.QQ=/QQBrowser/gi.test(r),c.WECHAT=/(wechat)|(micromessenger)/gi.test(r),c.SmartTV=/SMART-TV/gi.test(r),c.CHROME&&(f=/chrome\/([\d\.]+) /gi.exec(r),c.version=f?parseInt(f[1],10):0),c.EDGE&&(_=/edge\/([\d\.]+)/gi.exec(r),c.version=_?parseInt(_[1],10):0),p&&(c.redmi=p);var f=/mac/i.test(a),_="X11"==a&&!f,p=/win/i.test(a)&&!_,a=/android/.test(r);l.unix=_,l.win=p,l.mac=f,l.android=a,l.androidMobile=a&&c.mobile,l.androidTablet=a&&(!c.mobile||/pad/i.test(r)),s&&(l.version=s[1]),l.ios=!1,o&&(l.ios=!0,l.version=o[2].replace(/_/g,".")),n&&(l.ios=!0,l.version=n[2].replace(/_/g,".")),c.iPod&&(l.ios=!0);var e=c.iPad?"b85da1cf3ae44351":"b6c13e26323c537d",u=function(e){var t="01";(c.iPhone||l.android)&&(t="02"),(c.iPad||l.androidTablet)&&(t="03");var a="01",r,i,n,o,s;return l.android&&(a="02"),l.mac&&(a="08"),t+(a=l.ios?"03":a)+"003"+"101"+"00"+(e?"10":"00")+"000000"},y=function(e){return d||u(e)},s=function(e){d=e},o=function(e){var t=1,a;switch(y(e).substr(0,4)){case"0108":t=276;break;case"0303":t=10;break;case"0302":t=11;break;case"0203":t=13;break;case"0202":t=12}return t},n=function(){var e="";return c.CHROME?e="CHROME":c.SAFARI?e="SAFARI":c.FIREFOX?e="FIREFOX":c.QQ?e="QQ":c.WECHAT?e="WECHAT":c.IE?e="IE":c.IE6?e="IE6":c.IE7?e="IE7":c.IE8?e="IE8":c.IE9?e="IE9":c.IE10?e="IE10":c.EDGE?e="EDGE":c.mobileSafari?e="mobileSafari":l.ios||l.ios?e="ios":l.androidMobile?e="androidMobile":l.androidTablet&&(e="androidTablet"),e},r=r.match(/miuivideo\//i)||l.android&&4<parseInt(l.version)&&r.match(/MiuiBrowser/i),r=c.iPad||c.iPhone||l.android&&4<parseFloat(l.version)||r?"m3u8":"mp4";return/__pmode__=m3u8/.test(window.location.href)?r="m3u8":/__pmode__=mp4/.test(window.location.href)&&(r="mp4"),{browser:c,os:l,code:e,getPtid:y,setPtid:s,getAgentType:o,browserName:n,network:t,playerMode:r}}var platform$1=platform(),protocol=window.location.protocol,opendataURL=protocol+"//msg.qy.net/v5/bi/opendata",PF_CODE_PCW="1",PF_CODE_MOBILE="2",P_CODE_PCW="10",P_CODE_MOBILE="20",P1_CODE_PCW="101",P1_CODE_PHW="201",P1_CODE_TBW="202",pf=PF_CODE_PCW,p=P_CODE_PCW,p1=P1_CODE_PCW;platform$1.browser.iPad?(pf=PF_CODE_MOBILE,p=P_CODE_MOBILE,p1=P1_CODE_TBW):(platform$1.os.ios||platform$1.os.android)&&(pf=PF_CODE_MOBILE,p=P_CODE_MOBILE,p1=P1_CODE_PHW);var p_code=pf+"_"+p+"_"+p1,os_type="";platform$1.os.ios||platform$1.os.mac?os_type=2:platform$1.os.android&&(os_type=1);var _send=function(e){var t;mixin(t={p1:p_code,flashuid:UUID.getFluid()||"",v:e.playerVersion,pkg:"",sid:UUID.getWeid(),sttime:"",os_t:os_type,os_v:navigator.platform||"",ua_model:"",brand:"",lang:navigator.language||navigator.browserLanguage,resolution:window.screen.width+"*"+window.screen.height,network:"",cell_id:"",gps_lon:"",gps_lat:"",ipv4:"",tvid:e.tvid||"",aid:e.albumId||"",cid:e.cid||"",pid:UUID.getEid(),duration:e.duration||"",rn:+new Date,rfr:window.document.referrer,url:window.location.href,br:platform$1.browser.userAgent,ce:UUID.getWeid(),c2:""},e,!0),http.beacon(t,opendataURL)},ThreePingback=(ch.prototype.sendStartPlayPingback=function(e){e.type=3,e.sttime=Math.round((new Date).getTime()/1e3),_send(e)},ch.prototype.sendEndPlayPingback=function(e){e.type=4,e.sttime=Math.round((new Date).getTime()/1e3),_send(e)},ch);function ch(){}var ThreePingback$1=new ThreePingback;function isSupported(){var e=!!window.Promise&&!!window.Uint8Array&&!!Array.prototype.forEach,t=window.MediaSource||window.WebKitMediaSource,a=window.URL,r=!1,i,n,r;return t&&"function"==typeof t.isTypeSupported&&(i=t.isTypeSupported('video/mp4;codecs="avc1.42E01E"'),r=t.isTypeSupported('audio/mp4;codecs="mp4a.40.2"')&&i),e&&!!a&&(!!r||platform$1.browser.EDGE)}var mseFlag=isSupported(),_userAgent=navigator.userAgent,chromeVersion=/chrome\/([\d\.]+) /gi.exec(_userAgent.toLowerCase()),chromeVersion=chromeVersion?parseInt(chromeVersion[1],10):0,firxfoxVersion=/firefox\/([\d\.]+)/gi.exec(_userAgent.toLowerCase()),firxfoxVersion=firxfoxVersion?parseInt(firxfoxVersion[1],10):0,safariVersion=/Version\/([\d\.]+)/gi.exec(_userAgent.toLowerCase()),_swf;function isSupportKernel(){var e=platform$1.browser.WECHAT,t=platform$1.browser.CHROME&&34<=chromeVersion&&!platform$1.browser.EDGE,a=platform$1.browser.SAFARI&&10<=safariVersion,r=platform$1.browser.FIREFOX&&42<=firxfoxVersion,i=platform$1.browser.EDGE,n=platform$1.browser.SmartTV,o;return mseFlag&&(e||t||a||r||i||n)}function isSupportHtml5(e){var t;return(isSupportKernel()||platform$1.os.ios||platform$1.os.android)&&!e}function getForcedType(){var e;return cookie.get("player_forcedType")||null}function getDefaultType(){var e=CON_TYPE.PlayerType_Html5VOD,t;return e="flash"==urlkit.query("__playertype__")?CON_TYPE.PlayerType_FlashVOD:e}function getPlayerType(e){var t;return getForcedType()||e||getDefaultType()}var safariVersion=safariVersion?parseFloat(safariVersion[1]):0,EmbedSwf=(zh.prototype.embed=function(e,t){var a=[];a.push("<object>");var r="",i=document.getElementById(e.parentId);r+='<style type="text/css">  div, span, a {margin: 0;padding: 0;}  a {text-decoration: none;}  a:link, a:visited, a:hover, a:active {text-decoration: none;}  .iqp-layer-upgrade {position: absolute;top: -1px;left: -1px;right: -1px;bottom: -1px;background-color: #000;z-index: 100;font-size: 14px;line-height: 32px;}  .iqp-layer-upgrade .iqp-layer-con {position: absolute; width: 100%;top: 50%;-webkit-transform: translateY(-50%);transform: translateY(-50%);text-align: center;}  .iqp-layer-upgrade .iqp-layer-main {line-height: 32px;font-size: 16px; color: #fff;}  .iqp-layer-upgrade .iqp-layer-minor {line-height: 30px;font-size: 14px; color: #fff;opacity: 0.5;}  .iqp-layer-upgrade .browser-item {box-sizing: border-box;display: inline-block;width: 160px;height: 40px;border: 1px solid #00CC4C;border-radius: 6px;margin-top: 16px; font-size: 0;}  .iqp-layer-upgrade .browser-item:hover { border-color: #33D66F; }  .iqp-layer-upgrade .browser-item:hover .browser-name {color: #33D66F;}  .iqp-layer-upgrade .browser-item:hover .browser-btn {background-color:#33D66F;}  .iqp-layer-upgrade .upgrade-icon {display: inline-block;vertical-align: middle;width: 24px;height: 24px;background-image: url(//www.iqiyipic.com/common/fix/player/upgradeTips-icon.png);background-repeat: no-repeat; margin-right: 8px;}  .iqp-layer-upgrade .upgrade-icon.browser-goole {background-position: 0 0;}  .iqp-layer-upgrade .upgrade-icon.browser-QQ {background-position: -25px 0;}  .iqp-layer-upgrade .upgrade-icon.browser-360 {background-position: -50px 0;}  .iqp-layer-upgrade .browser-name {display: inline-block;vertical-align: middle;line-height: 38px;font-size: 14px;color: #00CC4C;}  .iqp-layer-upgrade .browser-btn {float: right;width: 40px;height: 38px;background-color: #00CC4C;border-radius: 0 4px 4px 0;}  .iqp-layer-upgrade .browser-btn .upgrade-icon {display: inline-block;width: 20px;height: 20px;background-position: -75px 0;margin-right: 0;margin-top: 4px;}  @media screen and (min-width: 0) {.iqp-layer-upgrade .upgrade-icon { background-image: url(//www.iqiyipic.com/common/fix/player/upgradeTips-icon@2x.png);background-size: 100px 25px;}}</style><div class="iqp-layer-upgrade">   <div class="iqp-layer-con">       <div class="iqp-layer-main">当前浏览器不支持播放，建议使用以下浏览器</div>       <div class="iqp-layer-minor">下列软件均已通过安全验证，您可放心安装</div>       <div class="iqp-layer-browser">           <div class="browser-wrap">               <a href="//www.google.cn/intl/zh-CN/chrome/" class="browser-item">                   <span class="upgrade-icon browser-goole"></span>                   <span class="browser-name">谷歌浏览器</span>                   <span class="browser-btn">                       <i class="upgrade-icon"></i>                   </span>               </a>           </div>           <div class="browser-wrap">               <a href="//browser.qq.com/" class="browser-item">                   <span class="upgrade-icon browser-QQ"></span>                   <span class="browser-name">QQ浏览器</span>                   <span class="browser-btn">                       <i class="upgrade-icon"></i>                   </span>               </a>           </div>           <div class="browser-wrap">               <a href="//browser.360.cn/ee/" class="browser-item">                   <span class="upgrade-icon browser-360"></span>                   <span class="browser-name">360浏览器</span>                   <span class="browser-btn">                       <i class="upgrade-icon"></i>                   </span>               </a>           </div>       </div>   </div></div>',a.push(r),a.push("</object>");var a=a.join(""),n=document.createElement("div");n.innerHTML=a;try{i.appendChild(n.firstChild),(_swf=document.getElementById(e.origin)).loadSuccess=!1}catch(o){}return n=null,_swf},zh.prototype.addEvent=function(e,t,a){window.attachEvent?e.attachEvent("on"+t,a):window.addEventListener&&e.addEventListener(t,a)},zh);function zh(){}var cbcache={},genCacheKey=function(e){return e},VideoInfo={get:function(e,n){var t=e.tvid,a=e.locale,e=genCacheKey(t),t,t;cbcache[e]=cbcache[e]||[],cbcache[e].push(n),t&&n&&(t="//pcw-api.iqiyi.com/video/video/playervideoinfo?tvid="+t,t=a?t+"&locale="+a:t,http.jsonp({url:t,memory:!0,success:function(e){"A00000"===e.code&&e.data||n({}),e=e.data;var t=genCacheKey(e.tvid),a=genCacheKey(e.videoQipuId),r=[];cbcache[t]?(r=(cbcache[t]||[]).slice(0),delete cbcache[t]):cbcache[a]&&(r=(cbcache[a]||[]).slice(0),delete cbcache[a]);for(var i=0;i<r.length;i++)r[i]&&function(e,t){setTimeout(function(){e({tvid:t.videoQipuId,vid:t.vid,albumId:t.albumId,cid:t.cid,vi:t,sid:t.sid,cType:t.cType})},0)}(r[i],e);r=null},failure:function(e){n(e||{})}}))},isUGC:function(e){return!!((e+="")&&2<e.length&&"9"==e.charAt(e.length-1)&&"0"==e.charAt(e.length-2)&&0<(e=parseInt(e,10))&&9e7<e)}},xml2json=function(d){var e="1.2.0";function t(){d.escapeMode===undefined&&(d.escapeMode=!0),d.attributePrefix=d.attributePrefix||"_",d.arrayAccessForm=d.arrayAccessForm||"none",d.emptyNodeForm=d.emptyNodeForm||"text",d.enableToStringFunc===undefined&&(d.enableToStringFunc=!0),d.arrayAccessFormPaths=d.arrayAccessFormPaths||[],d.skipEmptyTextNodesForObj===undefined&&(d.skipEmptyTextNodesForObj=!0),d.stripWhitespaces===undefined&&(d.stripWhitespaces=!0),d.datetimeAccessFormPaths=d.datetimeAccessFormPaths||[],d.useDoubleQuotes===undefined&&(d.useDoubleQuotes=!1),d.xmlElementsFilter=d.xmlElementsFilter||[],d.jsonPropertiesFilter=d.jsonPropertiesFilter||[],d.keepCData===undefined&&(d.keepCData=!1)}d=d||{},t();var f={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function _(e){var t=e.localName;return t=null==(t=null==t?e.baseName:t)||""==t?e.nodeName:t}function u(e){return e.prefix}function l(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}function i(e,t,a,r){for(var i=0;i<e.length;i++){var n=e[i];if("string"==typeof n){if(n==r)break}else if(n instanceof RegExp){if(n.test(r))break}else if("function"==typeof n&&n(t,a,r))break}return i!=e.length}function y(e,t,a){"property"===d.arrayAccessForm&&(e[t]instanceof Array?e[t+"_asArray"]=e[t]:e[t+"_asArray"]=[e[t]]),!(e[t]instanceof Array)&&0<d.arrayAccessFormPaths.length&&i(d.arrayAccessFormPaths,e,t,a)&&(e[t]=[e[t]])}function r(e){var t=e.split(/[-T:+Z]/g),a=new Date(t[0],t[1]-1,t[2]),r=t[5].split("."),t,i,t;return a.setHours(t[3],t[4],r[0]),1<r.length&&a.setMilliseconds(r[1]),t[6]&&t[7]?(t=60*t[6]+Number(t[7]),t=0+("-"==(/\d\d-\d\d:\d\d$/.test(e)?"-":"+")?-1*t:t),a.setMinutes(a.getMinutes()-t-a.getTimezoneOffset())):-1!==e.indexOf("Z",e.length-1)&&(a=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()))),a}function h(e,t,a){if(0<d.datetimeAccessFormPaths.length){var a=a.split(".#")[0];return i(d.datetimeAccessFormPaths,e,t,a)?r(e):e}return e}function E(e,t,a,r){return!(t==f.ELEMENT_NODE&&0<d.xmlElementsFilter.length)||i(d.xmlElementsFilter,e,a,r)}function g(e,t){var a,r,i,n,o,s,l,c;if(e.nodeType==f.DOCUMENT_NODE){for(c=new Object,l=e.childNodes,s=0;s<l.length;s++)(a=l.item(s)).nodeType==f.ELEMENT_NODE&&(c[r=_(a)]=g(a,r));return c}if(e.nodeType==f.ELEMENT_NODE){for((c=new Object).__cnt=0,l=e.childNodes,s=0;s<l.length;s++)r=_(a=l.item(s)),a.nodeType!=f.COMMENT_NODE&&(i=t+"."+r,E(c,a.nodeType,r,i)&&(c.__cnt++,null==c[r]?(c[r]=g(a,i),y(c,r,i)):(null!=c[r]&&(c[r]instanceof Array||(c[r]=[c[r]],y(c,r,i))),c[r][c[r].length]=g(a,i))));for(o=0;o<e.attributes.length;o++)n=e.attributes.item(o),c.__cnt++,c[d.attributePrefix+n.name]=n.value;var p=u(e);return null!=p&&""!=p&&(c.__cnt++,c.__prefix=p),null!=c["#text"]&&(c.__text=c["#text"],c.__text instanceof Array&&(c.__text=c.__text.join("\n")),d.stripWhitespaces&&(c.__text=c.__text.trim()),delete c["#text"],"property"==d.arrayAccessForm&&delete c["#text_asArray"],c.__text=h(c.__text,r,t+"."+r)),null!=c["#cdata-section"]&&(c.__cdata=c["#cdata-section"],delete c["#cdata-section"],"property"==d.arrayAccessForm&&delete c["#cdata-section_asArray"]),0==c.__cnt&&"text"==d.emptyNodeForm?c="":1==c.__cnt&&null!=c.__text?c=c.__text:1!=c.__cnt||null==c.__cdata||d.keepCData?1<c.__cnt&&null!=c.__text&&d.skipEmptyTextNodesForObj&&(d.stripWhitespaces&&""==c.__text||""==c.__text.trim())&&delete c.__text:c=c.__cdata,delete c.__cnt,!d.enableToStringFunc||null==c.__text&&null==c.__cdata||(c.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),c}if(e.nodeType==f.TEXT_NODE||e.nodeType==f.CDATA_SECTION_NODE)return e.nodeValue}function c(e,t,a,r){var i="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+t;if(null!=a)for(var n=0;n<a.length;n++){var o=a[n],s=e[o];d.escapeMode&&(s=l(s)),i+=" "+o.substr(d.attributePrefix.length)+"=",d.useDoubleQuotes?i+='"'+s+'"':i+="'"+s+"'"}return i+=r?"/>":">"}function p(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function a(e,t){return-1!==e.indexOf(t,e.length-t.length)}function m(e,t){return!!("property"==d.arrayAccessForm&&a(t.toString(),"_asArray")||0==t.toString().indexOf(d.attributePrefix)||0==t.toString().indexOf("__")||e[t]instanceof Function)}function P(e){var t=0;if(e instanceof Object)for(var a in e)m(e,a)||t++;return t}function A(e,t,a){return 0==d.jsonPropertiesFilter.length||""==a||i(d.jsonPropertiesFilter,e,t,a)}function L(e){var t=[];if(e instanceof Object)for(var a in e)-1==a.toString().indexOf("__")&&0==a.toString().indexOf(d.attributePrefix)&&t.push(a);return t}function n(e){var t="";return null!=e.__cdata&&(t+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(d.escapeMode?t+=l(e.__text):t+=e.__text),t}function T(e){var t="";return e instanceof Object?t+=n(e):null!=e&&(d.escapeMode?t+=l(e):t+=e),t}function v(e,t){return""===e?t:e+"."+t}function C(e,t,a,r){var i="";if(0==e.length)i+=c(e,t,a,!0);else for(var n=0;n<e.length;n++)i+=c(e[n],t,L(e[n]),!1),i+=O(e[n],v(r,t)),i+=p(e[n],t);return i}function O(e,t){var a="",r,i,n,o;if(0<P(e))for(var s in e){m(e,s)||""!=t&&!A(e,s,v(t,s))||(n=L(i=e[s]),null==i||i==undefined?a+=c(i,s,n,!0):i instanceof Object?i instanceof Array?a+=C(i,s,n,t):i instanceof Date?(a+=c(i,s,n,!1),a+=i.toISOString(),a+=p(i,s)):0<P(i)||null!=i.__text||null!=i.__cdata?(a+=c(i,s,n,!1),a+=O(i,v(t,s)),a+=p(i,s)):a+=c(i,s,n,!0):(a+=c(i,s,n,!1),a+=T(i),a+=p(i,s)))}return a+=T(e)}this.parseXmlString=function(e){var t=window.ActiveXObject||"ActiveXObject"in window,a;if(e===undefined)return null;if(window.DOMParser){var r=new window.DOMParser,i=null;if(!t)try{i=r.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(err){i=null}try{a=r.parseFromString(e,"text/xml"),null!=i&&0<a.getElementsByTagNameNS(i,"parsererror").length&&(a=null)}catch(err){a=null}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),(a=new ActiveXObject("Microsoft.XMLDOM")).async="false",a.loadXML(e);return a},this.asArray=function(e){return e===undefined||null==e?[]:e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?r(e):e},this.xml2json=function(e){return g(e)},this.xml_str2json=function(e){var e=this.parseXmlString(e);return null!=e?this.xml2json(e):null},this.json2xml_str=function(e){return O(e,"")},this.json2xml=function(e){var e=this.json2xml_str(e);return this.parseXmlString(e)},this.getVersion=function(){return e}},logger=new PlayerLogger("FlashAdapter"),FlashAdapter=function(_super){function FlashAdapter(param,isSupportHtml5,manager){var _this_1=_super.call(this)||this;_this_1._player=_this_1,_this_1.__canRecordEvents=!0,_this_1.eventsRecorder={},_this_1.__evtRecorderTimer=setTimeout(function(){_this_1.stopRecordEvents()},3e5),_this_1.isSmallWindow=null,_this_1._videoid=param.vid,_this_1._tvid=param.tvid,_this_1.local=param.local||"cn_s",_this_1._isFirstWriteLog=!0;var _this=_this_1;return _this_1._embedSwf=new EmbedSwf,_this_1._swf=_this_1._embedSwf.embed(param,isSupportHtml5),_this_1._playerId=param.parentId||"",_this_1._param=param,_this_1._prevCalls=[],_this_1._firstTime=!0,_this_1.LOGGER_KEY="QiyiPlayerLogger",_this_1._swf&&(_this_1._swf.fire=function(data){try{var ev_1=window.JSON?window.JSON.parse(data):eval("("+data+")");if(ev_1.data.origin&&ev_1.data.origin!=_this._swf.id)return;setTimeout(function(){try{_this.handleEvent(ev_1.type,ev_1.data)}catch(e){}},0)}catch(e){return}},_this_1.destroy=function(){logger.log("js call func,params: type = player destroy(销毁播放器)"),_this_1._swf.parentNode.removeChild(_this_1._swf),_this_1._swf=null,_this_1._embedSwf=null,delete manager.players[_this_1._playerId],_this_1.fire({type:"destroy"}),_this_1.removeAllListeners()}),_this_1._embedSwf.addEvent(window,"beforeunload",function(){_this_1._flashcall("stopHeartBeat")}),_this_1}return __extends(FlashAdapter,_super),FlashAdapter.prototype.callSwf=function(e){var t=this._swf,a=e.functionName,r=e.parameter,e=e.callback||function(){};t&&a&&t[a]&&(r===undefined?e(t[a]()):"[object Object]"==Object.prototype.toString.apply(r)||"[object Array]"==Object.prototype.toString.apply(r)?e(t[a](JSON.stringify(r))):e(t[a](r)))},FlashAdapter.prototype.handleEvent=function(e,a){var r=this,t,i,i;a=a||{},e==CON_TYPE.QYPLAYER_STATE_CHANGE?(t=a.state||"",a.vid!=r._videoid&&(r._videoid=a.vid,r._tvid=a.tvid,t.toLocaleLowerCase()==CON_TYPE.QYPLAYER_STATUS_LOAD_MOVIE&&r.getVideoInfo(function(e){logger.info("call js, fire event,params: type = videoChanged(视频切换完成)"),r.fire({type:CON_TYPE.QYPLAYER_VIDEO_CHANGE,data:e})}),r.getPlayInfo(function(e){var t={};t.prePlayingDuration=e.prePlayingDuration,t.preTvid=e.preTvid,t.curPlayingDuration=e.curPlayingDuration,t.playerVersion=e.playerVersion,mixin(a,t),logger.info("call js, fire event,params: type = vidChanged(视频切换)"),r.fire({type:CON_TYPE.QYPLAYER_VID_CHANGE,data:a})})),t.toLocaleLowerCase()==CON_TYPE.QYPLAYER_STATUS_DATA_READY&&r.getVideoInfo(function(e){logger.info("call js, fire event,params: type = dataready(数据信息已经准备好)"),r.fire({type:CON_TYPE.QYPLAYER_STATUS_DATA_READY,data:e})}),t.toLocaleLowerCase()==CON_TYPE.QYPLAYER_STATUS_END_PLAY&&r.getPlayInfo(function(e){var t={};t.prePlayingDuration=e.prePlayingDuration,t.preTvid=e.preTvid,t.curPlayingDuration=e.curPlayingDuration,t.playerVersion=e.playerVersion,mixin(a,t)}),t.toLocaleLowerCase()==CON_TYPE.QYPLAYER_STATUS_START_PLAY&&r.getPlayInfo(function(e){r._timeMark=e.totaleDuration,mixin(a,e)}),t.toLocaleLowerCase()==CON_TYPE.QYPLAYER_STATUS_SEEKING&&r.fire({type:CON_TYPE.QYPLAYER_STATUS_SEEKING,data:{actionType:"controls",current:a.current,duration:a.duration}}),a.state&&(a.state=t.toLocaleLowerCase()),logger.info("call js, fire event,params: type = playerStateChange(状态改变), state = "+t.toLocaleLowerCase()),r.fire({type:CON_TYPE.QYPLAYER_STATE_CHANGE,data:a})):e==CON_TYPE.QYPLAYER_NEXT_VIDEO?(logger.info("call js, fire event,params: type = playnextvideo(点击下一集)"),r.fire({type:CON_TYPE.QYPLAYER_NEXT_VIDEO})):e==CON_TYPE.QYPLAYER_SWITCH_PLAYER?(cookie.set("QP004",0,{expires:288e5,path:"/",domain:"iqiyi.com"}),window.location.reload()):e==CON_TYPE.QYPLAYER_LOAD_COMPLETE?(logger.info("call js, fire event,params: type = loadcomplete(加载完成)"),r.fire({type:CON_TYPE.QYPLAYER_LOAD_COMPLETE,data:a})):e==CON_TYPE.QYPLAYER_SET_LIGHT?(i="false"==a.open,logger.info("call js, fire event,params: type = setLight(开关灯), open = "+i),r.fire({type:CON_TYPE.QYPLAYER_SET_LIGHT,data:i})):e==CON_TYPE.QYPLAYER_MOVETO_QITAN?(logger.info("call js, fire event,params: type = moveToQitan(移动到评论)"),r.fire({type:CON_TYPE.QYPLAYER_MOVETO_QITAN})):e==CON_TYPE.QYPLAYER_LOAD_SUCCESS?(a.playerId=this._param.parentId,logger.info("call js, fire event,params: type = playerLoadSuccess(播放器初始化完毕)"),r.fire({type:CON_TYPE.QYPLAYER_LOAD_SUCCESS,data:a})):e==CON_TYPE.QYPLAYER_SHOW_LOGIN_PANEL?(logger.info("call js, fire event,params: type = showLoginPanel(弹出登录框)"),r.fire({type:CON_TYPE.QYPLAYER_SHOW_LOGIN_PANEL,data:a})):e==CON_TYPE.QYPLAYER_EXPAND?(logger.info("call js, fire event,params: type = expand(将播放器放大展开)"),r.fire({type:CON_TYPE.QYPLAYER_EXPAND,data:a})):e==CON_TYPE.QYPLAYER_AUTHENTICATION_RESULE?(logger.info("call js, fire event,params: type = authenticationResult(鉴权结果), isTryWatch = "+a.isTryWatch),r.fire({type:CON_TYPE.QYPLAYER_AUTHENTICATION_RESULE,data:{isTryWatch:"true"==a.isTryWatch,tvid:a.tvid}})):e==CON_TYPE.QYPLAYER_RECHARGE?(logger.info("call js, fire event,params: type = recharge(请求JS充值)"),r.fire({type:CON_TYPE.QYPLAYER_RECHARGE,data:a})):e==CON_TYPE.QYPLAYER_BuyPlay?(logger.info("call js, fire event,params: type = buyPlay(会员购买超前点播特权)"),r.fire({type:CON_TYPE.QYPLAYER_BuyPlay,data:a})):e==CON_TYPE.QYPLAYER_REFRESH_PAGE?(logger.info("call js, fire event,params: type = refreshPage(刷新页面)"),r.fire({type:CON_TYPE.QYPLAYER_REFRESH_PAGE})):e==CON_TYPE.QYPLAYER_DOWNLOAD?(logger.info("call js, fire event,params: type = download(离线下载)"),r.fire({type:CON_TYPE.QYPLAYER_DOWNLOAD,data:a})):e==CON_TYPE.QYPLAYER_REQUEST_VIDEOLIST?(logger.info("call js, fire event,params: type = requestVideoList(请求联播列表)"),r.fire({type:CON_TYPE.QYPLAYER_REQUEST_VIDEOLIST,data:a})):e==CON_TYPE.QYPLAYER_SWITCH_FULL_SCREEN?(logger.info("call js, fire event,params: type = switchFullScreen(全屏|普屏切换)"),r.fire({type:CON_TYPE.QYPLAYER_SWITCH_FULL_SCREEN,data:a.value})):e==CON_TYPE.QYPLAYER_ADD_TO_TABLE||e==CON_TYPE.QYPLAYER_ADD_TO_TABLE?(logger.info("call js, fire event,params: type = addToTable(追剧王--添加到桌面)"),r.fire({type:CON_TYPE.QYPLAYER_ADD_TO_TABLE})):e==CON_TYPE.QYPLAYER_FOCUS_TIPS?(logger.info("call js, fire event,params: type = focusTips(播放到看点)"),r.fire({type:CON_TYPE.QYPLAYER_FOCUS_TIPS,data:a})):e==CON_TYPE.QYPLAYER_FOCUS_UPLOADER?(logger.info("call js, fire event,params: type = focusUploader(获取订阅信息)"),r.fire({type:CON_TYPE.QYPLAYER_FOCUS_UPLOADER,data:a})):e==CON_TYPE.QYPLAYER_FIND_GOODS?(logger.info("call js, fire event,params: type = findGoods(定位到商品)"),r.fire({type:CON_TYPE.QYPLAYER_FIND_GOODS,data:a})):e==CON_TYPE.QYPLAYER_BARRAGE_REPLAY?(logger.info("call js, fire event,params: type = barrageReply(回复弹幕)"),r.fire({type:CON_TYPE.QYPLAYER_BARRAGE_REPLAY,data:a})):e==CON_TYPE.QYPLAYER_BARRAGE_RECEIVE_DATA?(logger.info("call js, fire event,params: type = barrageReceiveData(收到服务器最新socket弹幕信息)"),r.fire({type:CON_TYPE.QYPLAYER_BARRAGE_RECEIVE_DATA,data:a})):e==CON_TYPE.QYPLAYER_SET_BARRAGE_INTERACT_INFO?(logger.info("call js, fire event,params: type = setBarrageInteractInfo(收到服务器官弹互动信息数据)"),r.fire({type:CON_TYPE.QYPLAYER_SET_BARRAGE_INTERACT_INFO,data:a})):e==CON_TYPE.QYPLAYER_SET_BARRAGE_CONFIG_INFO?(logger.info("call js, fire event,params: type = setHasBarrageConfigInfo(弹幕的云控配置)"),r.fire({type:CON_TYPE.QYPLAYER_SET_BARRAGE_CONFIG_INFO,data:a})):e==CON_TYPE.QYPLAYER_SET_BARRAGE_CHANNEL_CONFIG_INFO?(logger.info("call js, fire event,params: type = setHasBarrageChannelConfigInfo(弹幕的频道配置)"),r.fire({type:CON_TYPE.QYPLAYER_SET_BARRAGE_CHANNEL_CONFIG_INFO,data:a})):e==CON_TYPE.QYPLAYER_NOTIFY_GIFT_INFO?(logger.info("call js, fire event,params: type = notifyGiftInfo(发现弹幕红包)"),r.fire({type:CON_TYPE.QYPLAYER_NOTIFY_GIFT_INFO,data:{data:decodeURIComponent(a.data||"")}})):e==CON_TYPE.QYPLAYER_NOTIFY_BARRAGE_DATA?(logger.info("call js, fire event,params: type = notifyBarrageData(发现弹幕数据)"),i={},a&&a.data&&(i=(new xml2json).xml_str2json(decodeURIComponent(a.data))),r.fire({type:CON_TYPE.QYPLAYER_NOTIFY_BARRAGE_DATA,data:{data:i.danmu}})):e==CON_TYPE.QYPLAYER_SHOW_DOWNLOAD_APPPOP?(logger.info("call js, fire event,params: type = showDownLoadAppPop(下载影音客户端)"),r.fire({type:CON_TYPE.QYPLAYER_SHOW_DOWNLOAD_APPPOP,data:a})):e==CON_TYPE.QYPLAYER_NOTIFY_SCORECHANGE?r.fire({type:CON_TYPE.QYPLAYER_NOTIFY_SCORECHANGE}):e==CON_TYPE.QYPLAYER_CHECK_CLIENT_INSTALL?(logger.info("call js, fire event,params: type = checkClientInstall(检测客户端)"),r.fire({type:CON_TYPE.QYPLAYER_CHECK_CLIENT_INSTALL,data:a})):e==CON_TYPE.QYPLAYER_REQUEST_SEND_PINGBACK?(logger.info("call js, fire event,params: type = requestJSSendPB(请求JS发送pingback)"),r.fire({type:CON_TYPE.QYPLAYER_REQUEST_SEND_PINGBACK,data:a})):e==CON_TYPE.QYPLAYER_DOSOMETHING?(logger.info("call js, fire event,params: type = setJsDoSomething(请求JS做某些操作)"),r.fire({type:CON_TYPE.QYPLAYER_DOSOMETHING,data:a})):e==CON_TYPE.QYPLAYER_FOLLOW_UPNEXT_LOAD?(logger.info("call js, fire event,params: type = followUpNextLoad(继续加载后续结构)"),r.fire({type:CON_TYPE.QYPLAYER_FOLLOW_UPNEXT_LOAD,data:a})):e==CON_TYPE.QYPLAYER_USER_CLICK_SCORE?(logger.info("call js, fire event,params: type = userClickScore(评分)"),r.fire({type:CON_TYPE.QYPLAYER_USER_CLICK_SCORE,data:a})):e==CON_TYPE.QYPLAYER_BARRAGE_STATE_CHANGE?(logger.info("call js, fire event,params: type = barrageStateChange(弹幕状态发生改变)"),r.fire({type:CON_TYPE.QYPLAYER_BARRAGE_STATE_CHANGE,data:a})):e==CON_TYPE.QYPLAYER_REQUEST_REWARD?(logger.info("call js, fire event,params: type = requestReward(请求打赏)"),r.fire({type:CON_TYPE.QYPLAYER_REQUEST_REWARD,data:a})):e==CON_TYPE.QYPLAYER_COMMENT_ALLOWED?(logger.info("call js, fire event,params: type = commentAllowed(vrs的评论字段)"),r.fire({type:CON_TYPE.QYPLAYER_COMMENT_ALLOWED,data:a})):e==CON_TYPE.QYPLAYER_NOTIFY_WRITE_FLASH_LOG?r._isFirstWriteLog?(storage$1.write(r.LOGGER_KEY,a.logStr.join("\n")),r._isFirstWriteLog=!1):storage$1.write(r.LOGGER_KEY,storage$1.read(r.LOGGER_KEY)+"\n"+a.logStr.join("\n")):e==CON_TYPE.QYPLAYER_NOTIFY_AD_START?(logger.info("call js, fire event,params: type = ADStart(广告开播)"),r.fire({type:CON_TYPE.QYPLAYER_NOTIFY_AD_START,data:a})):e==CON_TYPE.QYPLAYER_NOTIFY_AD_END?(logger.info("call js, fire event,params: type = ADEnd(广告播放完成)"),r.fire({type:CON_TYPE.QYPLAYER_NOTIFY_AD_END,data:a})):e==CON_TYPE.QYPLAYER_NOTIFY_TIMEUPDATE?r.fire({type:CON_TYPE.QYPLAYER_NOTIFY_TIMEUPDATE,data:a}):e==CON_TYPE.QYPLAYER_NOTIFY_AD_NOTIFY_INFO?(logger.info("call js, fire event,params: type = AD notify info(广告通知的信息-只是转发)"+a.type),r.fire({type:a.data.type,data:a.data.data})):e==CON_TYPE.QYPLAYER_NOTIFY_FEEDBACK_SHOW?r.fire({type:CON_TYPE.QYPLAYER_NOTIFY_FEEDBACK_SHOW,data:a}):e==CON_TYPE.QYPLAYER_NOTIFY_FEEDBACK_HIDE?r.fire({type:CON_TYPE.QYPLAYER_NOTIFY_FEEDBACK_HIDE,data:a}):e==CON_TYPE.QYPLAYER_NOTIFY_USER_SEEK?r.fire({type:CON_TYPE.QYPLAYER_NOTIFY_USER_SEEK}):e==CON_TYPE.QYPLAYER_BARRAGE_RECEIVE_DATA&&r.fire({type:CON_TYPE.QYPLAYER_BARRAGE_RECEIVE_DATA,data:a})},FlashAdapter.prototype.fire=function(e){var t=e.type,a=e.data,e={type:t};a!==undefined&&(e.data=a),this.emit(t,e),this.__canRecordEvents&&(this.eventsRecorder[t]||(this.eventsRecorder[t]=[]),"playerStateChange"===t?this.eventsRecorder[t].push(e):this.eventsRecorder[t]=[e])},FlashAdapter.prototype.un=function(e,t){return this.off(e,t),this},FlashAdapter.prototype._flashcall=function(e,t,a){var t={callback:a,functionName:e,parameter:t};this.callSwf(t)},FlashAdapter.prototype.load=function(e){logger.info("js call func,params: type = load(加载视频), data = "+e),this._flashcall("loadQiyiVideo",e)},FlashAdapter.prototype.stopRecordEvents=function(){var e=this;e.__canRecordEvents=!1,clearTimeout(e.__evtRecorderTimer),setTimeout(function(){e.eventsRecorder={}},1e4)},FlashAdapter.prototype.play=function(){logger.info("js call func,params: type = play(播放)"),this._flashcall("playQiyiVideo")},FlashAdapter.prototype.resume=function(){logger.info("js call func,params: type = resume"),this._flashcall("resumeQiyiVideo")},FlashAdapter.prototype.replay=function(){logger.info("js call func,params: type = replay"),this._flashcall("replayQiyiVideo")},FlashAdapter.prototype.pause=function(){logger.info("js call func,params: type = pause"),this._flashcall("pauseQiyiVideo")},FlashAdapter.prototype.seek=function(e){logger.info("js call func,params: type = seek, time = "+e),this._flashcall("seekQiyiVideo",e)},FlashAdapter.prototype.stop=function(){logger.info("js call func,params: type = stop(停止播放)"),this._flashcall("stopQiyiVideo")},FlashAdapter.prototype.getPlayInfo=function(t){this._flashcall("getQiyiPlayerInfo",undefined,function(e){var e=e||"",e=e?JSON.parse(e.replace(/\r/g,"").replace(/\n/g,"")):"";e&&(e.currentTime=e.currentTime?e.currentTime/1e3:0,t(e))})},FlashAdapter.prototype.getVideoInfo=function(e){var t,t="tw_t"===(t=this.locale)||"cn_t"===t?"zh_tw":"";VideoInfo.get({tvid:this._tvid,vid:this._videoid,locale:t},e)},FlashAdapter.prototype.getPlayerId=function(){return this._playerId},FlashAdapter.prototype.setQiyiUserLogin=function(e){logger.info("js call func,params: type = setQiyiUserLogin(修改登录状态), param = "+PlayerLogger.stringify(e)),this._flashcall("setQiyiUserLogin",e)},FlashAdapter.prototype.switchVideo=function(e){logger.info("js call func,params: type = switchVideo(影片切换), param = "+PlayerLogger.stringify(e)),this._flashcall("switchVideo",e)},FlashAdapter.prototype.switchNextVideo=function(){logger.info("js call func,params: type = switchNextVideo(下一集)"),this._flashcall("switchNextVideo")},FlashAdapter.prototype.switchPreVideo=function(){logger.info("js call func,params: type = switchPreVideo(上一集)"),this._flashcall("switchNextVideo")},FlashAdapter.prototype.addVideoList=function(e){logger.info("js call func,params: type = addVideoList(添加联播列表)"),this._flashcall("addVideoList",e)},FlashAdapter.prototype.removeVideoList=function(e){logger.info("js call func,params: type = removeVideoList(从联播列表删除), data = "+e),this._flashcall("removeVideoList",e)},FlashAdapter.prototype.setSmallWindowMode=function(e){this.isSmallWindow!==e&&(logger.info("js call func,params: type = setSmallWindowMode(设置小窗,1为小窗), data = "+e),this.isSmallWindow=e,this._flashcall("setSmallWindowMode",e))},FlashAdapter.prototype.jsNotifyAdManager=function(e){this._flashcall("jsNotifyAdManager",e)},FlashAdapter.prototype.getQiyiPlayerLog=function(e){this._flashcall("getQiyiPlayerLog",undefined,e)},FlashAdapter.prototype.clearBanWord=function(){this._flashcall("clearBanWord")},FlashAdapter.prototype.addBanWord=function(e){e!==undefined&&""!==e&&this._flashcall("addBanWord",e)},FlashAdapter.prototype.removeBanWord=function(e){e&&this._flashcall("removeBanWord",e)},FlashAdapter.prototype.requestBarrageData=function(e){this._flashcall("requestBarrageData")},FlashAdapter.prototype.notyfyADInfo=function(e){this._flashcall("notyfyADInfo",e)},FlashAdapter.prototype.getIsInMainVideo=function(e){this._flashcall("getIsInMainVideo",undefined,e)},FlashAdapter.prototype.setCyclePlay=function(e){logger.info("js call func,params: type = setCyclePlay(是否联播), param = "+e),this._flashcall("setCyclePlay")},FlashAdapter.prototype.getQiyiPlayerInfo=function(e){this.getPlayInfo(e)},FlashAdapter.prototype.getQiyiVideoInfo=function(e){this._flashcall("getQiyiVideoInfo",undefined,e)},FlashAdapter.prototype.setLight=function(e){logger.info("js call func,params: type = setLight(开关灯)"),this._flashcall("setLight",e)},FlashAdapter.prototype.expand=function(e){logger.info("js call func,params: type = expand"),this._flashcall("expand",e)},FlashAdapter.prototype.setBarrageStatus=function(e){logger.info("js call func,params: type = setBarrageStatus(设置弹幕开关)"),this._flashcall("setBarrageStatus",e)},FlashAdapter.prototype.setSelfSendBarrageInfo=function(e){this._flashcall("setSelfSendBarrageInfo",e)},FlashAdapter.prototype.setBarrageSetting=function(e){this._flashcall("setBarrageSetting",e)},FlashAdapter.prototype.setActivityNoticeInfo=function(e){this._flashcall("setActivityNoticeInfo",e)},FlashAdapter.prototype.zoomQiyiVideo=function(e){this._flashcall("zoomQiyiVideo",e)},FlashAdapter.prototype.setTimeListener=function(e){this._flashcall("setTimeListener",e)},FlashAdapter.prototype.getHasBarrageConfigInfo=function(){this._flashcall("getHasBarrageConfigInfo")},FlashAdapter.prototype.getHasBarrageChannelConfigInfo=function(){this._flashcall("getHasBarrageChannelConfigInfo")},FlashAdapter.prototype.getHasBarrageGiftInfo=function(){this._flashcall("getHasBarrageGiftInfo")},FlashAdapter.prototype.getCommentConfigInfo=function(){this._flashcall("getCommentConfigInfo")},FlashAdapter.prototype.setContinuePlayState=function(e){logger.info("js call func,params: type = setContinuePlayState"),this._flashcall("setContinuePlayState",e)},FlashAdapter.prototype.getSwitchVideoType=function(e){this._flashcall("getSwitchVideoType",undefined,e)},FlashAdapter.prototype.forceToSaveCurVideoInfo=function(e){this._flashcall("forceToSaveCurVideoInfo",e)},FlashAdapter.prototype.getContinueData=function(e){this._flashcall("getContinueData",e)},FlashAdapter.prototype.setQiyiVisits=function(e){this._flashcall("setQiyiVisits",e)},FlashAdapter.prototype.initQiyiVideo=function(e){logger.info("js call func,params: type = initQiyiVideo(初始化播放命令,用于账号封停,以非会员观看)"),this._flashcall("initQiyiVideo",e)},FlashAdapter.prototype.getQiyiPlayerType=function(e){var t="flash";return e&&"function"==typeof e&&e(t),t},FlashAdapter.prototype.setPlayerFullScreen=function(e){e&&this._flashcall("setPlayerFullScreen",e)},FlashAdapter.prototype.exitPicInPic=function(){},FlashAdapter.prototype.setQiyiSubscribe=function(){},FlashAdapter.prototype.setSubscribeInfo=function(){},FlashAdapter.prototype.setSubscribeStateChange=function(){},FlashAdapter.prototype.setPlayerWebFullScreen=function(){},FlashAdapter.prototype.setRightBarStatus=function(){},FlashAdapter.prototype.setExpandScreenStatus=function(){},FlashAdapter.prototype.showToast=function(){},FlashAdapter.prototype.refresh=function(){},FlashAdapter.prototype.backToStoryLine=function(){},FlashAdapter.prototype.backToIVMain=function(){},FlashAdapter}(Dispatcher),logger$1=new PlayerLogger("H5Adapter"),H5Adapter=(Bl=Dispatcher,__extends(Cl,Bl),Cl.prototype.fire=function(e){var t=e.type,a=e.data,e={type:t};a!==undefined&&(e.data=a),this.emit(t,e),this.__canRecordEvents&&(this.eventsRecorder[t]||(this.eventsRecorder[t]=[]),"playerStateChange"===t?this.eventsRecorder[t].push(e):this.eventsRecorder[t]=[e])},Cl.prototype.un=function(e,t){return this.off(e,t),this},Cl.prototype.loadSkin=function(e){var t=window.QiyiPlayerLoader;t&&t.loadSkin(e)},Cl.prototype.checkPack=function(e,t,a){var r=this;if(!this.disabled){var i=function(){if(a)a();else{if(r["package"][e])return r["package"][e](t);logger$1.info("checkPack error, method = "+e)}};if(this["package"])return i();this.once("createPack",i)}},Cl.prototype.addView=function(e){this.hasview||(this.hasview=!0,this.checkPack("addView",e))},Cl.prototype.load=function(e){this.checkPack("load",e)},Cl.prototype.stopRecordEvents=function(){var e=this;e.__canRecordEvents=!1,clearTimeout(e.__evtRecorderTimer),setTimeout(function(){e.eventsRecorder={}},1e4)},Cl.prototype.play=function(e){void 0===e&&(e={withUserGesture:!1}),this.checkPack("play",e)},Cl.prototype.resume=function(){this.checkPack("resume")},Cl.prototype.replay=function(){this.checkPack("replay")},Cl.prototype.pause=function(){this.checkPack("pause")},Cl.prototype.seek=function(e){this.checkPack("seek",e)},Cl.prototype.seekN=function(e){this.checkPack("seekN",e)},Cl.prototype.setPlayPingbackInfo=function(e){this.checkPack("setPlayPingbackInfo",e)},Cl.prototype.stop=function(){this.checkPack("stop")},Cl.prototype.isPaused=function(){return this.checkPack("isPaused")},Cl.prototype.getPlayInfo=function(e){this.checkPack("getPlayInfo",e)},Cl.prototype.getVideoInfo=function(e){this.checkPack("getVideoInfo",e)},Cl.prototype.getPlayerId=function(){return this._playerId},Cl.prototype.getMuted=function(){return this.checkPack("getMuted")},Cl.prototype.setMuted=function(e){this.checkPack("setMuted",e)},Cl.prototype.setQiyiUserLogin=function(e){this.checkPack("setQiyiUserLogin",e)},Cl.prototype.switchVideo=function(e){this.checkPack("switchVideo",e)},Cl.prototype.switchNextVideo=function(){this.checkPack("switchNextVideo")},Cl.prototype.switchPreVideo=function(){this.checkPack("switchPreVideo")},Cl.prototype.addVideoList=function(e){this.checkPack("addVideoList",e)},Cl.prototype.removeVideoList=function(e){this.checkPack("removeVideoList",e)},Cl.prototype.setSmallWindowMode=function(e){var t=this;this.isSmallWindow!==e&&(logger$1.info("js call func,params: type = setSmallWindowMode(设置小窗,1为小窗), data = "+e),this.isSmallWindow=e,this.checkPack("setSmallWindowMode",null,function(){t["package"].setSmallWindowMode&&t["package"].setSmallWindowMode(e)}))},Cl.prototype.jsNotifyAdManager=function(e){this.checkPack("jsNotifyAdManager",e)},Cl.prototype.getQiyiPlayerLog=function(e){try{e(PlayerLogger.getLog())}catch(t){}},Cl.prototype.clearBanWord=function(){this.checkPack("clearBanWord")},Cl.prototype.addBanWord=function(e){e!==undefined&&""!==e&&this.checkPack("addBanWord",e)},Cl.prototype.removeBanWord=function(e){this.checkPack("removeBanWord",e)},Cl.prototype.requestBarrageData=function(){},Cl.prototype.notyfyADInfo=function(e){this.checkPack("notyfyADInfo",e)},Cl.prototype.getQiyiPlayerInfo=function(e){this.checkPack("getQiyiPlayerInfo",e)},Cl.prototype.getQiyiPlayerType=function(e){var t="h5";return e&&"function"==typeof e&&e(t),t},Cl.prototype.setDelayPlayInfo=function(e){this.checkPack("setDelayPlayInfo",e)},Cl.prototype.clearDelayPlayInfo=function(e){this.checkPack("clearDelayPlayInfo",e)},Cl.prototype.setBarrageStatus=function(){},Cl.prototype.setSelfSendBarrageInfo=function(){},Cl.prototype.setBarrageSetting=function(){},Cl.prototype.setPlayerWebFullScreen=function(e){this.checkPack("setPlayerWebFullScreen",e)},Cl.prototype.setPlayerFullScreen=function(e){this.checkPack("setPlayerFullScreen",e)},Cl.prototype.getHasBarrageChannelConfigInfo=function(){},Cl.prototype.getHasBarrageConfigInfo=function(){},Cl.prototype.getHasBarrageGiftInfo=function(){},Cl.prototype.addPlayListView=function(e){this.checkPack("addPlayListView",e)},Cl.prototype.getSwitchVideoType=function(){return this.checkPack("getSwitchVideoType")},Cl.prototype.setRightBarStatus=function(e){this.checkPack("setRightBarStatus",e)},Cl.prototype.setExpandScreenStatus=function(e){this.checkPack("setExpandScreenStatus",e)},Cl.prototype.exitPicInPic=function(){this.checkPack("exitPicInPic")},Cl.prototype.showToast=function(e){this.checkPack("showToast",e)},Cl.prototype.refresh=function(e){this.checkPack("refresh",e)},Cl.prototype.backToStoryLine=function(e){this.checkPack("backToStoryLine",e)},Cl.prototype.backToIVMain=function(e){this.checkPack("backToIVMain",e)},Cl.prototype.setFollowData=function(e){this.checkPack("setFollowData",e)},Cl.prototype.changeFollowState=function(e){this.checkPack("changeFollowState",e)},Cl.prototype.changeAIBaikeState=function(e){this.checkPack("changeAIBaikeState",e)},Cl.prototype.setBarrageState=function(e){this.checkPack("setBarrageState",e)},Cl.prototype.getFeedbackInfo=function(){this.checkPack("getFeedbackInfo")},Cl.prototype.getIsInMainVideo=function(){},Cl.prototype.setCyclePlay=function(){},Cl.prototype.getQiyiVideoInfo=function(){},Cl.prototype.setQiyiSubscribe=function(){},Cl.prototype.setLight=function(){},Cl.prototype.expand=function(){},Cl.prototype.setActivityNoticeInfo=function(){},Cl.prototype.zoomQiyiVideo=function(){},Cl.prototype.setTimeListener=function(){},Cl.prototype.getCommentConfigInfo=function(){},Cl.prototype.setSubscribeInfo=function(){},Cl.prototype.setSubscribeStateChange=function(){},Cl.prototype.setContinuePlayState=function(){},Cl.prototype.forceToSaveCurVideoInfo=function(){},Cl.prototype.getContinueData=function(){},Cl.prototype.setQiyiVisits=function(){},Cl.prototype.initQiyiVideo=function(){},Cl),Bl;function Cl(e,t){var a=Bl.call(this)||this;(a._player=a)._playerId=e.parentId,a.disabled=!1,a.hasview=!1,a.type=CON_TYPE.PlayerType_Html5VOD;var r=window.QiyiPlayerLoader;return r&&(r.Package?a["package"]=new r.Package(e,a):(a["package"]=null,r.once("ready",function(){a["package"]=new r.Package(e,a),a.emit("createPack")}))),a.__canRecordEvents=!0,a.eventsRecorder={},a.__evtRecorderTimer=setTimeout(function(){a.stopRecordEvents()},3e5),a.isSmallWindow=null,setTimeout(function(){logger$1.info("call js, fire event,params: type = playerLoadSuccess(播放器初始化完毕)"),a.fire({type:CON_TYPE.QYPLAYER_LOAD_SUCCESS,data:{playerId:e.parentId}}),logger$1.info("call js, fire event,params: type = barrageAllowed(H5暂时不支持弹幕), enable = false"),a.fire({type:CON_TYPE.QYPLAYER_BARRAGE_ALLOWED,data:{enable:!1}})},0),a.destroy=function(){a.checkPack("destroy",null,function(){logger$1.log("js call func,params: type = player destroy(销毁播放器)"),a["package"].destroy(),a.hasview=!1,a.disabled=!0,delete t.players[e.parentId],a.removeAllListeners(),a.fire({type:"destroy"})})},a}var onlineUrl={"wonder.data.pc":"//static.iqiyi.com/js/player_v2/wonder.data.pc.84319b00.js","wonder.http.mobile":"//static.iqiyi.com/js/player_v2/wonder.http.mobile.b2cc44ff.js","skin.pc":"//static.iqiyi.com/js/player_v2/skin.pc.84319b00.js","skin.mobile":"//static.iqiyi.com/js/player_v2/skin.mobile.b2cc44ff.js","p2p.abs":"//static.iqiyi.com/js/player_v2/565b19851417.js",FLASH_PLAYER_URL:"//www.iqiyi.com/player_v2/flashplayer/20201118/6af57dfc0948.swf",FLASH_PLAYER_ZURL:"//www.iqiyi.com/player_v2/flashplayer/20201118/906490700948.swf",FLASH_P2P_URL:"//www.iqiyi.com/common/flashplayer/20180620/14002a1b82aa.swf",FLASH_BARRAGE_URL:"//www.iqiyi.com/common/flashplayer/20180810/0949c72eeb6.swf",FLASH_PRELOADER_URL:"//www.iqiyi.com/common/flashplayer/20190719/23215aa9a57.swf",FLASH_PRELOADER_URL_TW:"//www.iqiyi.com/common/flashplayer/20180529/1508c9cdf8a4.swf",FLASH_PRELOADER_VIP:"//www.iqiyi.com/common/flashplayer/20190719/232184b0df09.swf",FLASH_PRELOADER_VIP_TW:"//www.iqiyi.com/common/flashplayer/20171129/1530df83b9a5.swf",FLASH_PRELOADER_PRODUCE:"//www.iqiyi.com/common/flashplayer/20190719/2321561520f8.swf",FLASH_PRELOADER_PRODUCE_TW:"//www.iqiyi.com/common/flashplayer/20180529/15085e1d0a85.swf",FLASH_PRELOADER_EXCLUSIVE:"//www.iqiyi.com/common/flashplayer/20190719/232121793893.swf",FLASH_PRELOADER_EXCLUSIVE_TW:"//www.iqiyi.com/common/flashplayer/20180529/1508dc809b19.swf",FLASH_PRELOADER_ICON:"//www.iqiyi.com/common/flashplayer/20171129/1530c314a0aa.swf",FLASH_PRELOADER_ICON_TW:"//www.iqiyi.com/common/flashplayer/20171129/15307da15813.swf",FLASH_PRELOADER_ICON_PRODUCE:"//www.iqiyi.com/common/flashplayer/20171129/1530925a82d4.swf",FLASH_PRELOADER_ICON_PRODUCE_TW:"//www.iqiyi.com/common/flashplayer/20171129/1530151837af.swf",FLASH_PRELOADER_ICON_EXCLUSIVE:"//www.iqiyi.com/common/flashplayer/20171129/153013651bd2.swf",FLASH_PRELOADER_ICON_EXCLUSIVE_TW:"//www.iqiyi.com/common/flashplayer/20171129/153077057f2.swf",FLASH_TIP_XML:"//static-s.iqiyi.com/ext/common/Tipdatavod_201809131013.xml","skin.pc.mini":"//static.iqiyi.com/js/player_v2/skin.pc.mini.84319b00.js"},CONST_adParamAttrName="data-widget-adparam",CONST_flashParamAttrName="data-widget-flashplayerparam",CONST_flashVarsAttrName="data-flashplayerparam-flashvars",CONST_h5Vars="data-h5playerparam-h5vars",CONST_PlayerParams,CONST_PlayerParamsKV,spans,ParamVars={},setInitVars=function(){spans=document.querySelectorAll?document.querySelectorAll("span"):document.getElementsByTagName("span"),CONST_PlayerParams=window.QiyiPlayerParam||[],CONST_PlayerParamsKV={};for(var e=0;e<CONST_PlayerParams.length;e++)CONST_PlayerParams[e].name&&(CONST_PlayerParamsKV[CONST_PlayerParams[e].name]=CONST_PlayerParams[e].attribute||{})},getVer=function(){var e="";try{e=navigator.plugins["Shockwave Flash"].description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(err){}}return((e="string"!=typeof e?"":e)||"0 r0").match(/\d+/g)},checkFlashLzma=function(){var e=getVer();return 2<e.length&&(12<=parseInt(e[0],10)||11===parseInt(e[0],10)&&4<=parseInt(e[1],10))},outsite=function(){var e=[],t;try{t=!window.parent.location.href}catch(a){for(0===e.length&&(t=!0);e.length;)if(-1===document.referrer.indexOf(e.pop())){t=!0;break}}return t+""}(),delItemInPlayerParams=function(e){(CONST_PlayerParamsKV[e]||CONST_PlayerParamsKV.hasOwnProperty(e))&&(CONST_PlayerParamsKV[e]=null,delete CONST_PlayerParamsKV[e]);for(var t=CONST_PlayerParams.length;t--;)CONST_PlayerParams[t].name===e&&CONST_PlayerParams.splice(t,1)},safely=function(e){return e.replace(/([<>])/g,"")},delParamEmptyProps=function(e){for(var t in e)e[t]||!1===e[t]||delete e[t];return e},getElemWrapperParams=function(t){for(var e,a,r,i=function(e){return t.getAttribute(e)},n={expandState:i("data-player-expandstate"),albumId:i("data-player-albumid"),tvid:i("data-player-tvid"),vid:i("data-player-videoid"),autoplay:i("data-player-autoplay"),isMember:i("data-player-ismember"),cyclePlay:i("data-player-cycleplay"),exclusive:i("data-player-exclusive"),qiyiProduced:i("data-player-qiyiProduced"),share_sTime:i("data-player-startTime"),share_eTime:i("data-player-endTime"),showBarStyle:i("data-player-barStyle"),isLoop:i("data-player-isloop")},e=0,o,r,r,a;e<spans.length;e++){(r=spans[e]).getAttribute(CONST_adParamAttrName)===CONST_adParamAttrName&&(o=r.getAttribute("data-adparam-cupid"),r=r.getAttribute("data-adparam-playerid"),o&&(n.adurl=o),r&&(n.cid=r))}return delParamEmptyProps(n)},getElemAdParams=function(){for(var e,t,a,r={},e=0,i,a,a,t;e<spans.length;e++){(a=spans[e]).getAttribute(CONST_adParamAttrName)===CONST_adParamAttrName&&(i=a.getAttribute("data-adparam-cupid"),a=a.getAttribute("data-adparam-playerid"),i&&(r.adurl=i),a&&(r.cid=a))}return delParamEmptyProps(r)},getElemPublicParams=function(){for(var e,t,a,r,i,r,n=!1,o={},i=0;i<CONST_PlayerParams.length;i++)"public"===CONST_PlayerParams[i].name&&(mixin(o,delParamEmptyProps(CONST_PlayerParams[i].attribute||{}),!0),delItemInPlayerParams("public"),n=!0);if(!n)for(e=0;e<spans.length;e++)t=(r=spans[e]).getAttribute(CONST_flashParamAttrName),a=r.getAttribute(CONST_flashVarsAttrName),r=r.getAttribute(CONST_h5Vars),"public"===t&&(a&&mixin(o,delParamEmptyProps(urlkit.query2Json(a)),!0),r&&mixin(o,delParamEmptyProps(urlkit.query2Json(r)),!0));return delParamEmptyProps(o)},getJSConfigParams=function(e){var t={playerUrl:checkFlashLzma()&&onlineUrl.FLASH_PLAYER_ZURL?onlineUrl.FLASH_PLAYER_ZURL:onlineUrl.FLASH_PLAYER_URL,flashP2PCoreUrl:onlineUrl.FLASH_P2P_URL,barrageurl:onlineUrl.FLASH_BARRAGE_URL,preloader:onlineUrl.FLASH_PRELOADER_URL,preloaderTw:onlineUrl.FLASH_PRELOADER_URL_TW,qiyiProducedPreloader:onlineUrl.FLASH_PRELOADER_PRODUCE,qiyiProducedPreloaderTw:onlineUrl.FLASH_PRELOADER_PRODUCE_TW,exclusivePreloader:onlineUrl.FLASH_PRELOADER_EXCLUSIVE,exclusivePreloaderTw:onlineUrl.FLASH_PRELOADER_EXCLUSIVE_TW,vipPreloader:onlineUrl.FLASH_PRELOADER_VIP,vipPreloaderTw:onlineUrl.FLASH_PRELOADER_VIP_TW,iconPreloader:onlineUrl.FLASH_PRELOADER_ICON,iconPreloaderTw:onlineUrl.FLASH_PRELOADER_ICON_TW,iconProducedPreloader:onlineUrl.FLASH_PRELOADER_ICON_PRODUCE,iconProducedPreloaderTw:onlineUrl.FLASH_PRELOADER_ICON_PRODUCE_TW,iconExclusivePreloader:onlineUrl.FLASH_PRELOADER_ICON_EXCLUSIVE,iconExclusivePreloaderTw:onlineUrl.FLASH_PRELOADER_ICON_EXCLUSIVE_TW,tipdataurl:onlineUrl.FLASH_TIP_XML};return delParamEmptyProps(t)},getElemCustomParams=function(){for(var e,t,a,r,r,i={},e=0;e<spans.length;e++)t=(r=spans[e]).getAttribute(CONST_flashParamAttrName),a=r.getAttribute(CONST_flashVarsAttrName),r=r.getAttribute(CONST_h5Vars),t&&"public"!==t&&(CONST_PlayerParamsKV[t]?(mixin(i,delParamEmptyProps(CONST_PlayerParamsKV[t]),!0),delItemInPlayerParams(t)):(a&&mixin(i,delParamEmptyProps(urlkit.query2Json(a)),!0),r&&mixin(i,delParamEmptyProps(urlkit.query2Json(r)),!0)));if(0<CONST_PlayerParams.length)for(e=0;e<CONST_PlayerParams.length;e++)CONST_PlayerParams[e]&&CONST_PlayerParams[e].name&&mixin(i,delParamEmptyProps(CONST_PlayerParams[e].attribute||{}),!0);return delParamEmptyProps(i)},getElemWrapperFlashVarsParams=function(t){var e={},a,r,r=(r=function(e){return t.getAttribute(e)}("data-player-flashvars"))?urlkit.query2Json(r):{};return mixin(e,delParamEmptyProps(r),!0),delParamEmptyProps(e)},getURLParams=function(){var e={},t=function(e){var t=urlkit.query2Json(e),a,a=(a=t.flashVars)?urlkit.query2Json(safely(decodeURIComponent(a))):{},r=t.share_sTime||t.s,i=t.share_eTime||t.e;if(t.cupid_init_sub_type)for(var n=(t.cupid_init_sub_type+"").split(";"),o=void 0,s=0;s<n.length;s++)1<(o=(n[s]+"").split(":")).length&&(t[o[0]]=o[1]);var e=r&&r.match(/(\d*)-.*?=(\d*)/);e&&(r=e[1],i=e[2]);var i={autoplay:"1"===t.iamp||t.autoplay,vid:t.videoid||t.vid,tvid:t.tvid||t.tvId,albumId:t.albumid,cyclePlay:t.cycleplay,isMember:t.ismember,exclusive:t.exclusive,qiyiProduced:t.qiyiProduced,share_sTime:r,share_eTime:i,outsite:t.outsite,cid:t.cid,ptid:t.ptid,isCid:t.isCid,vfrm:t.vfrm,isMute:"1"===t.iamp||t.isMute,showBarStyle:t.barStyle,local:t.local,components:t.components,isLoop:t.isLoop,masflag:t.masflag,isExpandScreen:t.isExpandScreen,isSupportedShot:t.isSupportedShot,isSmallWindowMode:t.isSmallWindowMode,isSupportedHotKey:t.isSupportedHotKey,ps3:t.ps3,abtest:t.abtest,ist:t.cupid_init_sub_type};return mixin(a,delParamEmptyProps(i),!0),a},a=t(safely(window.location.search.replace(/([<>])/g,""))),t=t(safely(window.location.hash.slice(1).replace(/([<>])/g,""))),r;for(r in mixin(e,delParamEmptyProps(a),!0),mixin(e,delParamEmptyProps(t),!0),e)e[r]||!1===e[r]||delete e[r];return delParamEmptyProps(e)},playerParams={mix:function(e,t){setInitVars();var a=window.__qlt,r="";a&&a.brs&&(r=a.brs||"");var a=e.tmplt||0,i={outsite:outsite,site:"iqiyiw",components:"feffffe6e",local:"cn_s",ost:"0",browserType:r,pageTmpltType:a},n;for(n in mixin(i,getElemWrapperParams(t),!0),mixin(i,getElemAdParams(),!0),mixin(i,getElemPublicParams(),!0),mixin(i,getJSConfigParams(e),!0),mixin(i,getElemCustomParams(),!0),mixin(i,getElemWrapperFlashVarsParams(t),!0),mixin(i,e,!0),mixin(i,getURLParams(),!0),storage$1.read("abtest")&&(i.abtest=storage$1.read("abtest")),storage$1.read("abtest")&&storage$1.remove("abtest"),i)"string"==typeof i[n]&&(i[n]=i[n].replace(/^http:/gi,""));return ParamVars=i},getVars:function(){return ParamVars}},logger$2=new PlayerLogger("PlayerManager"),_playersReadyCalls={};UUID.getIsNewUser(!0);var PlayerManager=(Xn.prototype.createPlayer=function(e){var t=this,a=document.getElementById(e.parentId),r,i,r=(e=playerParams.mix(e,a)).tvid||"",i=e.vid||"fake123456",n=this.players[e.parentId];if(!e.hasOwnProperty("parentId"))return null;if(null!=n)return null;e.width&&e.height&&(a.style.width=parseInt(e.width,10)+"px",a.style.height=parseInt(e.height,10)+"px");var o=getPlayerType(e.playerType),s=cookie.get("QC005",{memory:!0}),l="production",a=cookie.get("setting",{memory:!0});switch(e.plyct=+new Date,logger$2.log("<APP>播放器类型: 点播 - "+o+", v: "+PlayerVersion+", location: "+window.location.href+", env: "+navigator.userAgent.toLowerCase()+", "+l+"/"+s+"/"+(a||"-")),logger$2.log("initialize parameter, "+PlayerLogger.stringify(e)),logger$2.log("Cookie --- P00001 = "+cookie.get("P00001")+",  \n\t\t\tP00002 = "+cookie.get("P00002")+",  \n\t\t\tP00003 = "+cookie.get("P00003")+",  \n\t\t\tP00007 = "+cookie.get("P00007")+",  \n\t\t\tQC179 = "+cookie.get("QC179")+", \n\t\t\tQP0013 = "+cookie.get("QP0013")),e.cssRendered=this.cssRendered,this.cssRendered||(this.cssRendered=!0),o){case CON_TYPE.PlayerType_Html5VOD:n=new H5Adapter(e,this);break;case CON_TYPE.PlayerType_FlashVOD:n=new FlashAdapter(e,!1,this)}(this.players[e.parentId]=n).on(CON_TYPE.QYPLAYER_LOAD_SUCCESS,function(e){n.__loadsuccess=!0;var e=e.data.playerId;t.flushPlayerReadyCalls(e)});var c="";return n.on(CON_TYPE.QYPLAYER_STATE_CHANGE,function(e){var t=e.data.state.toLocaleLowerCase(),a={};switch(a.tvid=e.data.tvid||"",a.albumId=e.data.albumId||"",a.cid=e.data.cid||"",a.playerVersion=e.data.playerVersion||"",t){case CON_TYPE.QYPLAYER_STATUS_END_PLAY:var r=e.data.tvid,i=void 0;e.data.spend?(i=e.data.spend,a.duration=e.data.spend):i=e.data.prePlayingDuration,ThreePingback$1.sendEndPlayPingback(a);break;case CON_TYPE.QYPLAYER_STATUS_START_PLAY:case CON_TYPE.QYPLAYER_STATUS_AD_START_PLAY:var n=e.data.tvid;n!==c&&(ThreePingback$1.sendStartPlayPingback(a),c=n);break;case CON_TYPE.QYPLAYER_STATUS_ERROR:}}),n.on(CON_TYPE.QYPLAYER_STATUS_DATA_READY,function(e){}),n.on(CON_TYPE.QYPLAYER_VID_CHANGE,function(e){var t,a,r={};e.data.preMovieInfo?(t=e.data.preMovieInfo.tvid,a=e.data.preMovieInfo.spend,r.albumId=e.data.preMovieInfo.albumId||"",r.cid=e.data.preMovieInfo.cid||""):(t=e.data.preTvid,a=e.data.prePlayingDuration),r.playerVersion=e.data.playerVersion||"",r.tvid=t||"",r.duration=a||"",ThreePingback$1.sendEndPlayPingback(r)}),n},Xn.prototype.getPlayerById=function(e){return this.players[e]},Xn.prototype.destroyPlayer=function(e){this.players[e].destroy()},Xn.prototype.addView=function(e){if(this.subViewDef=this.subViewDef||e,this.subViewDef)for(var t in this.players)this.players[t].addView(this.subViewDef)},Xn.prototype.ready=function(e,t){var a=this.getPlayerById(e),r=_playersReadyCalls[e]||[];(_playersReadyCalls[e]=r).push(t),a&&a.__loadsuccess&&this.flushPlayerReadyCalls(e)},Xn.prototype.flushPlayerReadyCalls=function(e){var t=_playersReadyCalls[e]||[];_playersReadyCalls[e]=[];for(var a=0;a<t.length;a++)!function(e,t){setTimeout(function(){e[t].call()},0)}(t,a)},Xn);function Xn(){this.players={},this.cssRendered=!1,this.subViewDef=!1,this.constantType=CON_TYPE,this.version=PlayerVersion}function seriesLoadScripts(t,a){"object"!=typeof t&&(t=[t]);var r=document.getElementsByTagName("head").item(0)||document.documentElement,i=[],n=t.length-1,o=function(e){i[e]=document.createElement("script"),i[e].setAttribute("type","text/javascript"),i[e].onload=i[e].onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(this.onload=this.onreadystatechange=null,this.parentNode.removeChild(this),e!=n?o(e+1):"function"==typeof a&&a(!0))},i[e].onerror=i[e].onstalled=function(){"function"==typeof a&&a(!1)},i[e].setAttribute("src",t[e]),r.appendChild(i[e])};o(0)}var grayConfig={id:"PCWDEV-3361",channelIds:[],index:0,eq:"",st:0,ed:15,url:{"skin.pc":"//static.iqiyi.com/js/player_v2/skin.pc.d62a9e16.js","skin.pc.mini":"//static.iqiyi.com/js/player_v2/skin.pc.mini.d62a9e16.js","wonder.data.pc":"//static.iqiyi.com/js/player_v2/wonder.data.pc.d62a9e16.js"}},adurl="//static.iqiyi.com/js/common/ares-mobile-h5.min.js",PackLoader=(Po.prototype.matchGray=function(e){var t=grayConfig||{};if(t.id){var a=cookie.get("QC005",{memory:!0}),r=cookie.get("QP0032",{memory:!0}),i=!1;return""!==t.index&&(a=parseInt(a.substr(t.index,1),16),""!==t.eq?i=a==t.eq:""!==t.st&&""!==t.ed&&(i=a>=t.st&&a<=t.ed)),r&&cookie.remove("QP0032",{path:"/",domain:"iqiyi.com"}),i=i&&!urlkit.query("__pmobius__")&&"1"!==r,-1<t.channelIds.indexOf(e)||i}return!1},Po.prototype.loadPackage=function(){var e=this,t="data",a="pc";(platform$1.os.ios||platform$1.os.android)&&(t="http",a="mobile");var r="wonder."+t+"."+a,i=this.configUrl[r];this.globalEntry.packageName=r,setTimeout(function(){e.globalEntry.isSyncing=!1,e.globalEntry.Package||(e.logger.log("package loading: ("+r+")"),seriesLoadScripts(i,function(){e.logger.log("package loaded: ("+r+")")}))},0)},Po.prototype.loadSkin=function(e){var t="pc";(platform$1.os.ios||platform$1.os.android)&&(t="mobile");var a="";e&&e.isMini&&"pc"===t&&(a=".mini"),seriesLoadScripts(this.configUrl["skin."+t+a])},Po.prototype.loadAD=function(e){var r=this;"boolean"==typeof this.adcb.loaded?e():("function"==typeof e&&this.adcb.push(e),this.adcb.loading||(this.adcb.loading=!0,seriesLoadScripts(adurl,function(e){for(r.adcb.loading=!1,r.adcb.loaded=e;0<r.adcb.length;)try{var t;r.adcb.shift()()}catch(a){}})))},Po);function Po(e,t){if(this.logger=new PlayerLogger("PackLoader"),this.globalEntry=e,this.configUrl=onlineUrl,this.usedGrayUrl={},this.p2pcb=[],this.adcb=[],this.matchGray(t)){var a=grayConfig.url,r;for(r in a)this.configUrl[r]=a[r],this.usedGrayUrl[r]=!0}isSupportHtml5()&&this.loadPackage()}var logger$3=new PlayerLogger("QiyiLoader");Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,a=+arguments[1]||0;if(0===t||isNaN(a)||t<=a)return-1;for(a<0&&(a=t+a)<0&&(a=0);a<t;++a)if(this[a]===e)return a;return-1});var PlayerLoader=(np=Dispatcher,__extends(op,np),op.prototype.ready=function(e){"function"==typeof e&&(this.isActived=!0,e(this.manager),this._checkEnv())},op.prototype._checkEnv=function(){var e;this._testEnvChecked||(this._testEnvChecked=!0,e=cookie.get("setting",{memory:!0}))},op.prototype.logger=function(){return PlayerLogger},op.prototype.setPackage=function(e){this.Package=e,this.emit("ready")},op.prototype.addView=function(e){this.manager.addView(e)},op.prototype.loadSkin=function(e){this.skinLoad?this.manager.addView():(this.skinLoad=!0,this.packLoader.loadSkin(e))},op.prototype.loadAd=function(e){this.packLoader.loadAD(e)},op),np;function op(){var e=np.call(this)||this,t=0;window.__qlt&&"number"==typeof window.__qlt.statisticsStart&&(t=window.__qlt.statisticsStart),logger$3.log("player v2 sdk init,player-"+PlayerVersion+", page benchmark@"+t+"!");var a,t=(window.uniqy||{}).curVideoInfo||{};return e.Package=null,e.packLoader=new PackLoader(e,t.channelId),e.renderd=!1,e.manager=new PlayerManager,e.isSyncing=!0,e}var QiyiPlayerLoader=new PlayerLoader;return QiyiPlayerLoader});