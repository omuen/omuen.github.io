window.lib=window.lib||{};lib.kit=lib.kit||{};lib=lib||{};lib.kit=lib.kit||{};lib.kit.util=lib.kit.util||{};lib.kit.util.jsLoad={};window.Q=window.Q||{};Q.__callbacks__=Q.__callbacks__||{};(function(){function parseParam(t,e){var r;try{if(typeof e!="undefined"){for(r in t){if(e[r]){t[r]=e[r]}}}}finally{r=null;return t}}function createScripts(t,e){processUrl(t,e);var r=t.urls;var a=document.createElement("script");a.src=r.url;a.charset=r.charset;a.onload=a.onerror=a.onreadystatechange=function(){if(a&&a.readyState&&a.readyState!="loaded"&&a.readyState!="complete"){return}e.script_loaded_num++;a.onload=a.onreadystatechange=a.onerror=null;a.src="";a.parentNode.removeChild(a);a=null};document.getElementsByTagName("head")[0].appendChild(a)}function processUrl(t,e){var r=t.urls;var a,o,i,n;if(typeof t.CACHE!="undefined"){var s=t.CACHE;o=r.url;for(a in s){if(a=="varname"){i=s[a];continue}o+=s[a]+"/"}r.url=o.toString();if(t.spliter==="0"){r.url=r.url.slice(0,-1)}}if(typeof t.GET!="undefined"){var c=new lib.kit.Url(r.url),l=t.GET;for(var a in l){if(a=="cb"){i=l[a]}c.setParam(a,encodeURIComponent(l[a]))}r.url=c.toString()}if(i){e.script_var_arr.push(i)}r.charset=t.charset||"utf-8"}function ancestor(aUrls,oOpts){var _opts={urls:[],charset:"utf-8",timeout:-1,CACHE:oOpts.CACHE,GET:oOpts.GET,spliter:"1",onSuccess:function(){},onError:function(){}};var _cfg={script_loaded_num:0,is_timeout:false,is_loadcomplete:false,script_var_arr:[]};_opts.urls=typeof aUrls=="string"?{url:aUrls}:aUrls;parseParam(_opts,oOpts);createScripts(_opts,_cfg);(function(){if(_opts.noreturn==true&&_opts.onComplete==null){return}var i,data=[];if(_cfg.script_loaded_num==1){_cfg.is_loadcomplete=true;if(_opts.onSuccess!=null){for(i=0;i<_cfg.script_var_arr.length;i++){var key=_cfg.script_var_arr[i].trim(),o;if(key.indexOf(".")!=-1){o=eval(key)}else{o=window[key]}data.push(o)}if(_cfg.script_var_arr.length<2){if(typeof data[0]!="undefined"&&(!data[0].code||data[0].code=="A00000"))_opts.onSuccess(typeof data[0].data=="undefined"?data[0]:data[0].data);else{_opts.onError(data[0])}}else{if(!data.code||data.code=="A00000")_opts.onSuccess(typeof data.data=="undefined"?data:data.data);else{_opts.onError(data)}}}return}if(_cfg.is_timeout==true){return}setTimeout(arguments.callee,50)})();if(_opts.timeout>0){setTimeout(function(){if(!_cfg.is_loadcomplete){if(_opts.onError){_opts.onError()}_cfg.is_timeout=true}},_opts.timeout)}}lib.kit.util.jsLoad.request=function(t,e){new ancestor(t,e)};var paramFormat=function(t){var e=[];if(typeof t=="object"){for(var r in t){e[e.length]=encodeURIComponent(r)+"="+encodeURIComponent(t[r])}}return e.join("&").replace(/%20/g,"+")};lib.kit.util.jsLoad.jsonp=function(t,e){var r;var a;var o;var i;var n="window.Q.__callbacks__.";var s="cb"+Math.floor(Math.random()*2147483648).toString(36);var c=function(){};e.timeout=e.timeout||1e4;e.params=e.params||{};e.params["callback"]=n+s;var l=function(t){if(t.clearAttributes){t.clearAttributes()}if(t&&t.parentNode){t.parentNode.removeChild(t)}t=null};var u=Q.__callbacks__;var d=e.oncomplete||c,f=e.onsuccess||c,p=e.onfailure||c,_=e.onTimeout||p||c;u[s]=function(t){if(r){clearTimeout(r)}d(t);if(t&&t.code=="A00000"){f(t)}else{p(t)}l(a);delete u[s]};o=t+(/\?/.test(t)?"&":"?")+paramFormat(e.params);a=document.createElement("script");a.type="text/javascript";if(!!e.charset){a.charset=e.charset}a.src=o;a.onerror=function(){p({code:"E00000"});l(a)};document.getElementsByTagName("head")[0].appendChild(a);r=setTimeout(function(){_({code:"E00000"});i=true;l(a)},e.timeout)}})();var Url=function(r){r=r||"";this.url=r;this.query={};this.hrParam={};this.info={};this.parse()};(function(r){r.prototype={parse:function(r){if(r){this.url=r}this.parseAnchor();this.parseParam();this.parseInfo()},parseAnchor:function(){var r=this.url.match(/\#(.*)/);r=r?r[1]:null;this._anchor=r;if(r!=null){this.anchor=this.getNameValuePair(r);this.url=this.url.replace(/\#.*/,"")}},parseParam:function(){var r=this.url.match(/\?([^\?]*)/);r=r?r[1]:null;if(r!=null){this.query=this.getNameValuePair(r);this.hrParam=this.getNameValuePair(r,"-");this.url=this.url.replace(/\?([^\?]*)/,"")}},parseInfo:function(){var r=/(\w+):\/\/([^\/:]+):?(\d*)((?:\/|$).*)/;var i=this.url.match(r);if(i){var t=i[1];var a=i[2];var n=i[3];var e=i[4];this.info={protocol:t,host:a,port:n,path:e}}},getNameValuePair:function(r,i){var a={};var t=i||"&";var n=new RegExp("([^"+t+"=]*)(?:=([^"+t+"]*))?","gim");r.replace(n,function(r,i,t){if(i==""){return a}a[i]=t||""});return a},getParam:function(r){return this.query[r]||""},getHrParam:function(r){return this.hrParam[r]||""},getHostname:function(){return this.info.host},clearParam:function(){this.query={}},setParam:function(r,i){if(r==null||r==""||typeof r!="string"){throw new Error("no param name set")}this.query=this.query||{};this.query[r]=i},setParams:function(r){this.query=r},serialize:function(r){var i=[];for(var t in r){if(r[t]==null||r[t]==""){i.push(t+"=")}else{i.push(t+"="+r[t])}}return i.join("&")},toString:function(){var r=this.serialize(this.query);return this.url+(r.length>0?"?"+r:"")+(this.anchor?"#"+this.serialize(this.anchor):"")},getHashStr:function(r){return this.anchor?"#"+this.serialize(this.anchor):r?"#":""}}})(Url);window.lib=window.lib||{};lib.kit=lib.kit||{};lib.kit.Url=Url;if(window.$reg){$reg("lib.kit.Url",function(){lib.kit.Url=Url})}var md5V2=function(){var v=function(r,n){return r<<n|r>>>32-n};var k=function(r,n){var t,a,e,o,u;e=r&2147483648;o=n&2147483648;t=r&1073741824;a=n&1073741824;u=(r&1073741823)+(n&1073741823);if(t&a){return u^2147483648^e^o}if(t|a){if(u&1073741824){return u^3221225472^e^o}else{return u^1073741824^e^o}}else{return u^e^o}};var i=function(r,n,t){return r&n|~r&t};var f=function(r,n,t){return r&t|n&~t};var c=function(r,n,t){return r^n^t};var C=function(r,n,t){return n^(r|~t)};var q=function(r,n,t,a,e,o,u){r=k(r,k(k(i(n,t,a),e),u));return k(v(r,o),n)};var z=function(r,n,t,a,e,o,u){r=k(r,k(k(f(n,t,a),e),u));return k(v(r,o),n)};var B=function(r,n,t,a,e,o,u){r=k(r,k(k(c(n,t,a),e),u));return k(v(r,o),n)};var D=function(r,n,t,a,e,o,u){r=k(r,k(k(C(n,t,a),e),u));return k(v(r,o),n)};var E=function(r){var n;var t=r.length;var a=t+8;var e=(a-a%64)/64;var o=(e+1)*16;var u=Array(o-1);var v=0;var i=0;while(i<t){n=(i-i%4)/4;v=i%4*8;u[n]=u[n]|r.charCodeAt(i)<<v;i++}n=(i-i%4)/4;v=i%4*8;u[n]=u[n]|128<<v;u[o-2]=t<<3;u[o-1]=t>>>29;return u};var F=function(r){var n="",t="",a,e;for(e=0;e<=3;e++){a=r>>>e*8&255;t="0"+a.toString(16);n=n+t.substr(t.length-2,2)}return n};var G=function(r){r=r.replace(/\x0d\x0a/g,"\n");var n="";for(var t=0;t<r.length;t++){var a=r.charCodeAt(t);if(a<128){n+=String.fromCharCode(a)}else if(a>127&&a<2048){n+=String.fromCharCode(a>>6|192);n+=String.fromCharCode(a&63|128)}else{n+=String.fromCharCode(a>>12|224);n+=String.fromCharCode(a>>6&63|128);n+=String.fromCharCode(a&63|128)}}return n};return function(r){r+="";var n=Array();var t,a,e,o,u,v,i,f,c;var C=7,d=12,h=17,l=22;var g=5,m=9,s=14,S=20;var w=4,b=11,A=16,V=23;var x=6,y=10,p=15,L=21;r=G(r);n=E(r);v=1732584193;i=4023233417;f=2562383102;c=271733878;for(t=0;t<n.length;t+=16){a=v;e=i;o=f;u=c;v=q(v,i,f,c,n[t+0],C,3614090360);c=q(c,v,i,f,n[t+1],d,3905402710);f=q(f,c,v,i,n[t+2],h,606105819);i=q(i,f,c,v,n[t+3],l,3250441966);v=q(v,i,f,c,n[t+4],C,4118548399);c=q(c,v,i,f,n[t+5],d,1200080426);f=q(f,c,v,i,n[t+6],h,2821735955);i=q(i,f,c,v,n[t+7],l,4249261313);v=q(v,i,f,c,n[t+8],C,1770035416);c=q(c,v,i,f,n[t+9],d,2336552879);f=q(f,c,v,i,n[t+10],h,4294925233);i=q(i,f,c,v,n[t+11],l,2304563134);v=q(v,i,f,c,n[t+12],C,1804603682);c=q(c,v,i,f,n[t+13],d,4254626195);f=q(f,c,v,i,n[t+14],h,2792965006);i=q(i,f,c,v,n[t+15],l,1236535329);v=z(v,i,f,c,n[t+1],g,4129170786);c=z(c,v,i,f,n[t+6],m,3225465664);f=z(f,c,v,i,n[t+11],s,643717713);i=z(i,f,c,v,n[t+0],S,3921069994);v=z(v,i,f,c,n[t+5],g,3593408605);c=z(c,v,i,f,n[t+10],m,38016083);f=z(f,c,v,i,n[t+15],s,3634488961);i=z(i,f,c,v,n[t+4],S,3889429448);v=z(v,i,f,c,n[t+9],g,568446438);c=z(c,v,i,f,n[t+14],m,3275163606);f=z(f,c,v,i,n[t+3],s,4107603335);i=z(i,f,c,v,n[t+8],S,1163531501);v=z(v,i,f,c,n[t+13],g,2850285829);c=z(c,v,i,f,n[t+2],m,4243563512);f=z(f,c,v,i,n[t+7],s,1735328473);i=z(i,f,c,v,n[t+12],S,2368359562);v=B(v,i,f,c,n[t+5],w,4294588738);c=B(c,v,i,f,n[t+8],b,2272392833);f=B(f,c,v,i,n[t+11],A,1839030562);i=B(i,f,c,v,n[t+14],V,4259657740);v=B(v,i,f,c,n[t+1],w,2763975236);c=B(c,v,i,f,n[t+4],b,1272893353);f=B(f,c,v,i,n[t+7],A,4139469664);i=B(i,f,c,v,n[t+10],V,3200236656);v=B(v,i,f,c,n[t+13],w,681279174);c=B(c,v,i,f,n[t+0],b,3936430074);f=B(f,c,v,i,n[t+3],A,3572445317);i=B(i,f,c,v,n[t+6],V,76029189);v=B(v,i,f,c,n[t+9],w,3654602809);c=B(c,v,i,f,n[t+12],b,3873151461);f=B(f,c,v,i,n[t+15],A,530742520);i=B(i,f,c,v,n[t+2],V,3299628645);v=D(v,i,f,c,n[t+0],x,4096336452);c=D(c,v,i,f,n[t+7],y,1126891415);f=D(f,c,v,i,n[t+14],p,2878612391);i=D(i,f,c,v,n[t+5],L,4237533241);v=D(v,i,f,c,n[t+12],x,1700485571);c=D(c,v,i,f,n[t+3],y,2399980690);f=D(f,c,v,i,n[t+10],p,4293915773);i=D(i,f,c,v,n[t+1],L,2240044497);v=D(v,i,f,c,n[t+8],x,1873313359);c=D(c,v,i,f,n[t+15],y,4264355552);f=D(f,c,v,i,n[t+6],p,2734768916);i=D(i,f,c,v,n[t+13],L,1309151649);v=D(v,i,f,c,n[t+4],x,4149444226);c=D(c,v,i,f,n[t+11],y,3174756917);f=D(f,c,v,i,n[t+2],p,718787259);i=D(i,f,c,v,n[t+9],L,3951481745);v=k(v,a);i=k(i,e);f=k(f,o);c=k(c,u)}var j=F(v)+F(i)+F(f)+F(c);return j.toLowerCase()}}();window.lib=window.lib||{};lib.md5V2=md5V2;Object.extend=function(t,i){for(var e in i){t[e]=i[e]}return t};window.lib=window.lib||{};if(!lib.SITE_DOMAIN){var getDomain=function(){var t=2;var i=window.location.hostname.split(".");i=i.slice(i.length-t);return i.join(".")};lib.SITE_DOMAIN=getDomain()}lib.PROJECT_VERSION="20210115094622";lib.developer="zhangzhiming";function __getLocalDfp(){var t=window.localStorage&&window.localStorage instanceof Storage;var i="";if(t){i=localStorage.getItem("__dfp")}if(i&&qa_isDpfUseful(i)){return i.split("@")[0]}return""}function qa_isDpfUseful(t){if(t&&t.length>0){var i=t.split("@");var e=i[2];var r=i[1];e=isNaN(e)?0:Number(e);r=isNaN(r)?0:Number(r);var a=(new Date).getTime();if(a<r&&a>e){return true}}return false}function __optionsDfp(){if(window.dfp.setOptions){window.dfp.setOptions({excludeWebGL:true,excludeCanvas:true})}}lib.action=lib.action||{};lib.action.getDFP=function(){if(window.dfp){__optionsDfp();return dfp.tryGetFingerPrint()}return __getLocalDfp()};lib.action.Qa=function(){this.init=function(t){var i=this;var e=lib.SITE_DOMAIN.match(/pps/);try{var r=navigator.userAgent.toLowerCase();this.par={};this.pars=[];this.custom={};this.filter=[];this.time=0;this.w=window;this.l=window.location;this.d=window.document;this.searchJson=this.queryToJson(this.l.href);this.urlMap={rdm:"rdm",qtcurl:"qtcurl",rfr:"rfr",lrfr:"lrfr",jsuid:"jsuid",qtsid:"qtsid",ppuid:"ppuid",platform:"platform",weid:"weid",pru:"pru",flshuid:"flshuid",fcode:"fcode",ffcode:"ffcode",coop:"coop",odfrm:"odfrm",fvcode:"fvcode",nu:"nu",mod:"mod",pcau:"pcau"};this.cookieMap={flshuid:"QC005",jsuid:"QC006",pru:"P00PRU",lrfr:"QC007",qtsid:"QC008",QY_FC:"QC009",QY_FFC:"QC014",gaflag:"QC011",odfrm:"QC132",QY_FV:"QC142",pcau:"PCAU"};t=t||{};this.times=t.times||5;this.timeouts=t.timeouts||1e3;this.url=t.url||"//msg.qy.net/jspb.gif";this.newUrl=t.newUrl||"//msg.qy.net/act";var a=window.intlPageInfo||{};if(a.i18n==="global"){this.url=t.url||"//msg-intl.qy.net/jspb.gif";this.newUrl=t.newUrl||"//msg-intl.qy.net/act"}if(this.url.indexOf("?")==-1){this.url+="?"}else if(this.url.slice(-1)!="&"){this.url+="&"}if(this.newUrl.indexOf("?")==-1){this.newUrl+="?"}else if(this.newUrl.slice(-1)!="&"){this.newUrl+="&"}this.flag=t.flag||"QC010";this.callback=t.callback||function(){};if(typeof t.urlMap=="object"){Object.extend(this.urlMap,t.urlMap)}if(typeof t.cookieMap=="object"){Object.extend(this.cookieMap,t.cookieMap)}if(typeof t.custom=="object"){Object.extend(this.custom,t.custom)}if(t.filter instanceof Array){this.filter=t.filter}var n=this.urlMap;this.par[n.rdm]=this.rand();this.par[n.qtcurl]=this.u(this.l.href);this.par[n.rfr]=this.u(this.d.referrer);this.par[n.lrfr]=this.getLrfr();this.par[n.jsuid]=this.getJsuid();this.par[n.qtsid]=this.getQtsid();this.par[n.ppuid]=this.getUserInfoUid();this.par[n.nu]=this.getNu();this.par[n.platform]=/ipad/i.test(r)?"21":/(iphone os)|(android)/i.test(r)?"31":"11";if(e){this.par[n.platform]="20"+this.par[n.platform]}if(this.w.pingbackParams){if(Object.assign){this.par=Object.assign({},this.w.pingbackParams,this.par)}else{var o=Object.extend({},this.w.pingbackParams);this.par=Object.extend(o,this.par)}}if(this.w.Q&&Q.PageInfo&&Q.PageInfo.playPageInfo&&Q.PageInfo.playPageInfo.videoTemplate){this.par["tmplt"]=Q.PageInfo.playPageInfo.videoTemplate||""}this.par[n.fcode]=this.getFc();this.par[n.ffcode]=this.getFfc();this.par[n.coop]=this.getCoop();this.par[n.weid]=this.getWeid();this.par[n.pru]=this.getPRU();this.par[n.fvcode]=this.getFv();this.par[n.mod]=this.getMod();Object.extend(this.par,this.custom);var s=this.searchJson;var f=this.cookieMap[this.urlMap.odfrm];var c=s[this.urlMap.odfrm]||this.cookieGet(f)||"";if(c){c=c;this.par[n.odfrm]=c;this.cookieSet(f,c,0,"/",lib.SITE_DOMAIN);var h=this.d.getElementsByTagName("body")[0];var u=this.queryToJson(h.getAttribute("data-pb")||"")||{};u[n.odfrm]=c;var p=this.jsonToQuery(u);h.setAttribute("data-pb",p)}var l=document.getElementById("block-B");if(l&&l.getAttribute("data-pb")){var d=l.getAttribute("data-pb");var g=d.match(/(^|&)?tmplt=([^&]+)/i);if(g&&g[2]){i.par["tmplt"]=g[2]}}var v=/ipad/i.test(r)||/iphone os/i.test(r)||/lepad_hls/i.test(r);if(v){i.par[n.flshuid]=i.getJsuid()}else{i.par[n.flshuid]=i.getFlashId()}i.par[n.pcau]=i.getPcau();var m="ChEnYH0415dadrrEDFf2016";var w=v?i.par[n.flshuid]:i.getJsuid();i.par["as"]=lib.md5V2(i.par[n.platform]+w+i.par[n.weid]+m);this.getFingerPrint(function(t){if(t){i.par["dfp"]=t}i.setQC005();i.post()})}catch(t){}this.sendNewQa()};this.sendNewQa=function(){var e=this;this.getHu(function(i){e.getFingerPrint(function(t){e.initNewPar(i,t);e.setQC005();e.post(true)})})};this.getPtid=function(){/ipad/i.test(t)?"21":/(iphone)|(android)/i.test(t)?"31":"11";var t=navigator.userAgent.toLowerCase();var i=navigator.platform.toLowerCase();var e="002";var r="101";var a="00";var n="00";var o="000000";var s="01";if(/(iphone)|(android)/i.test(t)){s="02"}else if(/pad/i.test(t)){s="03"}var f="01";if(/android/i.test(i)){f="02"}if(/mac/i.test(i)){f="08"}if(/ios/i.test(i)){f="03"}return s+f+e+r+a+n+o};this.extend=function(t,i){var e=t||{};var r;for(var a=1,n=arguments.length;a<n;a++){r=arguments[a];if(r){for(var o in r){if(r.hasOwnProperty(o)){e[o]=r[o]}}}}return e};this.initNewPar=function(t,i){var e,r="1_10_101";var a=window.intlPageInfo||{};if(a.i18n==="global"){r="1_10_222";var n=navigator.userAgent.toLowerCase();if(/(android)|(like mac os x)/i.test(n)){r="2_20_223"}}this.par={u:this.getFlashId(),pu:this.getUserInfoUid(),rn:this.rand(),p1:r,de:this.getQtsid(),stime:(new Date).getTime(),ce:this.getWeid(),bstp:0,t:22,v:1,rpage:"",hu:t,dfp:i,mod:this.getMod(),purl:this.u(this.l.href),nu:this.getNu(),vfm:this.searchJson.vfm||"",rfr:this.u(this.d.referrer),pcau:this.getPcau(),ptp:"",pagev:"homepage_adv_v1",coop:this.getCoop(),lrfr:this.getLrfr(),ptid:this.getPtid()};if(a.i18n==="global"){delete this.par["ptid"];var o=new lib.kit.Url(document.location.href);var s=a.pbInfos||{};this.par["rpage"]=s.rpage||"";this.par["lang"]=o.getParam("lang")||s.lang||"";this.par["resolution"]=window.screen.width+"*"+window.screen.height;if(s.pbShowParams){if(Object.assign){this.par=Object.assign({},s.pbShowParams,this.par)}else{this.par=this.extend({},s.pbShowParams,this.par)}}}e=this.w.Q&&this.w.Q.PageInfo&&this.w.Q.PageInfo.playPageInfo;if(e){if(e.videoTemplate){this.par.tmplt=e.videoTemplate||""}if(e.cid!==undefined){this.par.c1=e.cid}if(e.albumId){this.par.aid=e.albumId}}if(this.w.pingbackParams){if(Object.assign){this.par=Object.assign({},this.par,this.w.pingbackParams)}else{var f=Object.extend({},this.par);this.par=Object.extend(f,this.w.pingbackParams)}}};this.getFingerPrint=function(i){var t=this;var e=__getLocalDfp();if(e){i(e)}else if(window.dfp){__optionsDfp();window.dfp.getFingerPrint(function(t){i(t)},function(t){i("")})}else{i("")}};this.getHu=function(t){var i=window.__global__info&&window.__global__info.userInfo;if(i&&i.data&&i.code=="A00000"){var e=-1;if(i.data.vipTypes){e=i.data.vipTypes}t(e)}else{this.getUser(t)}};this.getUser=function(e){var t=this.cookieGet("P00001")||"";if(!t){e(-1);return}var i="//pcw-api.iqiyi.com/passport/user/userinfodetail?version=1";var r={onsuccess:function(t){var i=-1;window.__global__info=window.__global__info||{};window.__global__info.userInfo=t;if(t.data&&t.data.vipTypes){i=t.data.vipTypes}e(i)},onfailure:function(){e(-1)}};lib.kit.util.jsLoad.jsonp(i,r)};this.getUserInfoUid=function(){try{var userInfo=this.cookieGet("P00002");if(userInfo){userInfo=userInfo==window.JSON?window.JSON.parse(userInfo):eval("("+userInfo+")")}if(userInfo&&userInfo.uid){return userInfo.uid}else{return""}}catch(e){return""}};this.u=function(t){try{var i=encodeURIComponent;return i instanceof Function?i(t):escape(t)}catch(t){return""}};this.hash=function(t){try{var i=1,e=0;if(t){i=0;for(var r=t.length-1;r>=0;r--){e=t.charCodeAt(r);i=(i<<6&268435455)+e+(e<<14);e=i&266338304;i=e!==0?i^e>>21:i}}return i}catch(t){return""}};this.rand=function(t){try{var i=[];if(!isNaN(t)){for(var e=0;e<t;e++){i.push(Math.round(Math.random()*2147483647).toString(36))}}else{i.push(Math.round(Math.random()*2147483647))}return i.join("")}catch(t){return""}};this.cookieGet=function(t){var i=function(t){if(new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(t)){var i=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),e=i.exec(document.cookie);if(e){return e[2]||""}}return""};try{t=i(t);if("string"==typeof t){if(t.length>1&&t=="deleted"){return""}else{return decodeURIComponent(t)||""}}else{return""}}catch(t){return""}};this.cookieSet=function(t,i,e,r,a,n){try{var o=[];o.push(t+"="+encodeURIComponent(i));if(e){var s=new Date;var f=s.getTime()+e*36e5;s.setTime(f);o.push("expires="+s.toGMTString())}if(r){o.push("path="+r)}if(a){o.push("domain="+a)}if(n){o.push(n)}document.cookie=o.join(";")}catch(t){return""}};this.getJsuid=function(){try{var t;var i=this.cookieMap.jsuid;t=this.cookieGet(i);if(!t||!isNaN(t)){t=this.rand(4)}this.cookieSet(i,t,365*24,"/",lib.SITE_DOMAIN);return t}catch(t){return""}};this.getQtsid=function(){try{var t,i=/^\d{10}\.\d{10}\.\d{10}\.\d+$/;var e=this.cookieMap.qtsid;var r=function(){return parseInt(new Date/1e3,10).toString()};t=this.cookieGet(e);if(this.cookieGet(this.flag)){return t}if(!i.test(t)){var a=r();t=[a,a,a,"1"]}else{t=t.split(".");t[1]=t[2];t[2]=r();t[3]=parseInt(t[3],10)+1}this.cookieSet(e,t.join("."),365*24,"/",lib.SITE_DOMAIN);return t}catch(t){return""}};this.getLrfr=function(){try{var t,i=this;var e=this.cookieMap.lrfr;var r=this.d.referrer.match(/http[s]?:\/\/([^\/]*)/);r=r?r[1]:"";t=this.cookieGet(e);t=t=="undefined"?"":t;var a=this.l.hostname;var n=r&&r.match(/i?qiyi\.com|pps\.tv/);var o=t;if(!t){if(!this.d.referrer||n){o="DIRECT"}else{o=this.u(this.d.referrer)}}else if(!this.d.referrer){o="DIRECT"}else if(r!==a&&r.indexOf(lib.SITE_DOMAIN)===-1){if(!n){o=this.u(this.d.referrer)}}this.cookieSet(e,o,0,"/",lib.SITE_DOMAIN);return o}catch(t){return""}};this.getFlashId=function(){var t=this.cookieMap.flshuid;var i=this.cookieGet(t)||"";return i};this.getPcau=function(){var t=this.cookieMap.pcau;var i=this.cookieGet(t)||"0";return i};this.setQC005=function(){var t=this.cookieGet("QC005");if(!t){this.cookieSet("QC005",this.generateQC005(),90*365*24)}};this.generateQC005=function(){var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];var i="";for(var e=0;e<32;e++){var r=Math.floor(Math.random()*16);i+=t[r]}return i};this.getFc=function(){try{var t=this.l.search.match(/[\?&]fc=([^&]*)(&|$)/i);var i=this.cookieMap.QY_FC;var e=this.cookieGet(i);if(e=="b22dab601821a896"){return e}if(t){t=t[1];this.cookieSet(i,t,0,"/",lib.SITE_DOMAIN)}else{t=this.cookieGet(i);if(!t||t=="undefined"){t=""}}return t}catch(t){return""}};this.getFv=function(){try{var t=this.l.search.match(/[\?&]fv=([^&]*)(&|$)/i);var i=this.cookieMap.QY_FV;if(t){var e=encodeURIComponent(t[1]);if(e.length>146){e=e.substring(0,146)}e=decodeURIComponent(e);t=e;this.cookieSet(i,t,24*3,"/",lib.SITE_DOMAIN)}else{t=this.cookieGet(i);if(!t||t=="undefined"){t=""}}return t}catch(t){return""}};this.getFfc=function(){try{var t=this.l.search.match(/[\?&]ffc=([^&]*)(&|$)/i);var i=this.cookieMap.QY_FFC;if(t){t=t[1];this.cookieSet(i,t,0,"/",lib.SITE_DOMAIN)}else{t=this.cookieGet(i);if(!t||t=="undefined"){t=""}}return t}catch(t){return""}};this.getCoop=function(){var t="";var i;if(this.l.host.split(".")[0]=="mini"){i=lib.$url(this.l.href,"app");i=i&&i["app"]||"";if(i){t="coop_"+i.replace("bdbrowser","bdexplorer")}}else{if(this.w.INFO&&this.w.INFO.flashVars&&this.w.INFO.flashVars.coop){t=this.w.INFO.flashVars.coop}}return t};this.getWeid=function(){return window.webEventID||lib.md5V2(+new Date+Math.round(Math.random()*2147483647)+"")||""};this.getNu=function(){return this.cookieGet("QC173")||0};this.getPRU=function(){return this.cookieGet("P00PRU")||""};this.getMod=function(){var t=window.Q&&Q.PageInfo||{};if(window.uniqy){t=window.uniqy&&window.uniqy.PageInfo||{}}var i=t.i18n==="tw_t"?false:true;var e;if(i){e="cn_s"}else{e="tw_t"}var r=window.intlPageInfo||{};if(r.i18n==="global"){var a=r.pbInfos||{};var n=new lib.kit.Url(document.location.href);e=n.getParam("mod")||a.mod||""}return e};this.post=function(t){var i=this;try{i.pars=[];var e,r=i.filter.length,a;if(r===0){for(e in i.par){i.pars.push([e,i.par[e]].join("="))}}else{for(e=0;e<r;e++){a=i.filter[e];i.pars.push([a,i.par[a]].join("="))}}i.pars=i.pars.join("&");window.jsQa=new Image(1,1);window.jsQa.src=(t?i.newUrl:i.url)+i.pars;i.cookieSet(i.flag,i.hash(i.pars),0,"/",lib.SITE_DOMAIN);i.cookieSet(i.urlMap.nu,0,0,"/",lib.SITE_DOMAIN);i.callback()}catch(t){return""}};this.iframeRequest=function(t){var i=document.createElement("iframe");i.scrolling="no";i.style.display="none";i.frameborder=0;i.src=t;document.body.appendChild(i)};this.syncCookie=function(t,e,r){var a=this;var n;if(t.indexOf("iqiyi.com")!==-1){n="//passport.pps.tv/pages/user/proxy.action"}else if(t.indexOf("pps.tv")!==-1){n="//passport.iqiyi.com/pages/user/proxy.action"}if(n){setTimeout(function(){var i=n+"#"+e+"="+r;try{window.JSHandler.logToConsole("xxx")}catch(t){if(!window.external.GetLoginJsonInfo){a.iframeRequest(i)}}},0)}};this.queryToJson=function(t){var i=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"};if(!t){return{}}t=t||this.l.href;var e=t.substr(t.lastIndexOf("?")+1),r=e.split("&"),a=r.length,n={},o=0,s,f,c,h;for(;o<a;o++){if(!r[o]){continue}h=r[o].split("=");s=h.shift();f=h.join("=");c=n[s];if("undefined"==typeof c){n[s]=f}else if(i(c)){c.push(f)}else{n[s]=[c,f]}}return n};this.jsonToQuery=function(t,i){var e=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"};var r=function(t,i){var e,r,a;if("function"==typeof i){for(r in t){if(t.hasOwnProperty(r)){a=t[r];e=i.call(t,a,r);if(e===false){break}}}}return t};var a=function(t){return String(t).replace(/[#%&+=\/\\\ \u3000\f\r\n\t]/g,function(t){return"%"+(256+t.charCodeAt()).toString(16).substring(1).toUpperCase()})};var n=[],o,s=i||function(t){return a(t)};r(t,function(t,i){if(e(t)){o=t.length;while(o--){n.push(i+"="+s(t[o],i))}}else{n.push(i+"="+s(t,i))}});return n.join("&")}};(function(){var t=new lib.action.Qa;var c=false;var h=null;var i=null;var e="//msg.qy.net/jpb.gif";var r="//msg.qy.net/act";var a=window.intlPageInfo||{};if(a.i18n==="global"){e="//msg-intl.qy.net/jpb.gif";r="//msg-intl.qy.net/act"}function n(t){var i=document.getElementsByTagName("HEAD").item(0);var e=document.createElement("script");e.type="text/javascript";e.src="//security.iqiyi.com/static/cook/v1/cooksdk.js";var r=navigator.userAgent.toLowerCase();var a=/ipad/i.test(r)||/iphone os/i.test(r)||/lepad_hls/i.test(r);if(a){e.src="//security.iqiyi.com/static/cook/v1/cooksdkpcwpad.js"}i.appendChild(e);var n=[];window.qaLoadingDfp=function(t){n.push(t)};var o=function(){while(n.length>0){try{var t=n.shift();t()}catch(t){}}};var s=function(){clearTimeout(h);h=setTimeout(function(){if(!c){clearTimeout(h);c=true;t();o()}},2500)};s();var r=navigator.userAgent.toLowerCase();var f=/msie/.test(r);if(f){e.onreadystatechange=function(){if(/loaded|complete/.test(e.readyState)){if(!c){c=true;clearTimeout(h);t();o()}}}}else{e.onload=function(){if(!c){c=true;clearTimeout(h);t();o()}}}}try{if(__getLocalDfp()){t.init({url:e,newUrl:r});n(function(){if(i){clearTimeout(i)}i=setTimeout(function(){if(window.dfp){__optionsDfp();dfp.tryGetFingerPrint()}},3e3)})}else{n(function(){t.init({url:e,newUrl:r})})}}catch(t){}})();(function(){var t=new lib.action.Qa;var i=t.cookieGet("QC001")=="1";var e=t.cookieGet("QC005");var r;window._dxt=window._dxt||[];var a=location.hostname;window._dxt.push(["_setUserId",e]);var n=window.intlPageInfo||{};var o=window.uniqy||{};var s=o.PageInfo||{};if(s.i18n!="tw_t"&&n.i18n!="global"){var f=document.createElement("script");f.src="//datax.baidu.com/x.js?si=&dm="+a+"";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(f,c)}if(i||!e||window.location.protocol=="https:"||lib.SITE_DOMAIN.match(/pps/)){return}t.cookieSet("QC001","1",24,"/",lib.SITE_DOMAIN);var h="324";var u={qiyi_cookie:e};var p={sid:e,p:"iqiyi"};var l="//nsclick.baidu.com/v.gif",d=[],g="BD_QIYI_LOG_"+(new Date).getTime(),v=window[g]=new Image;d.push("pid="+h);for(r in u){d.push(r+"="+encodeURIComponent(u[r]))}v.src=l+"?"+d.join("&")+"&t="+(new Date).getTime();var m="//cpro.baidu.com/cpro/ui/html/sync.htm",w=[],b="BD_QIYI_LOG_"+(new Date).getTime(),I=window[b]=new Image;for(r in p){w.push(r+"="+encodeURIComponent(p[r]))}I.src=m+"?"+w.join("&")+"&t="+(new Date).getTime();if(!parseInt(Math.random()*10,10)){var y="http://m.wrating.com/m.gif?a=&c=860010-2370010124&mcookie="+e,_="WRATING_LOG_"+(new Date).getTime(),k=window[_]=new Image;k.src=y+"&t="+(new Date).getTime()}})();(function(){try{var t=document.getElementsByTagName("HEAD").item(0);var i=document.createElement("script");i.type="text/javascript";i.src="//stc.iqiyipic.com/js/pingback/commonpingback.js";t.appendChild(i)}catch(t){}})();(function(){var e=function(){var e=2;var t=window.location.hostname.split(".");t=t.slice(t.length-e);return t.join(".")}();var t=e.match(/pps/);var N=navigator.userAgent.toLowerCase();var n="1",a="10",i="101";if(/(android)|(like mac os x)/i.test(N)){n="2";a="20"}else if(t){n="201"}if(/(android)/i.test(N)){i="201"}else if(/(like mac os x)/i.test(N)){if(/(iphone)/i.test(N)){i="201"}else{i="202"}}var O="//msg.qy.net/b?t=20&p="+a+"&p1="+i+("&pf="+n);if(window.uniqy){O="//msg.qy.net/b?t=20&p="+a+"&p1="+i+("&pf="+n)}var r=window.intlPageInfo||{};if(r.i18n==="global"){i="1_10_222";var N=navigator.userAgent.toLowerCase();if(/(android)|(like mac os x)/i.test(N)){i="2_20_223"}O="//msg-intl.qy.net/act?t=20&p1="+i}var U=function(e,t){e=e||{};if(t.indexOf("?")==-1){t+="?"}else{t+="&"}var n=+new Date;e._=n;for(var a in e){if(e.hasOwnProperty(a)){t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a])+"&"}}if(t[t.length-1]==="&"){t=t.slice(0,-1)}var i=new Image;i.src=t};if(!document.querySelectorAll){var p=function(e){if(!e){return}var t=[];var n=document;var a=n.getElementsByTagName("*")||n.all;for(var i=0,r=a.length;i<r;i++){if(a[i].id==e){t.push(a[i])}}return t}}function c(e){if(typeof e==="string"){e=e.split(",")}var t=[],n=e.length;var a="block-";var i,r,o,l;var d=function(e){return document.getElementById(e)};var c=String.fromCharCode;var s;for(s=0;s<n;s++){i=e[s].replace(/\s+/g,"");o=a+i;var f="*[id="+o+"]";var u="";if(document.querySelectorAll){u=document.querySelectorAll(f)}else{u=p(o)}var v=u.length;if(v){if(v>1){var m=0;var g=1;while(m<v){l=u[m];if(m){l["__bid__"]=i+g;l["id"]=o+g;g++}else{l["__bid__"]=i}t.push(l);m++}}else{l=d(o);l["__bid__"]=i;t.push(l)}}}return t}function s(){var e=[];var t="block-";var n,a,i,r;var o="A".charCodeAt();var l=function(e){return document.getElementById(e)};var d=String.fromCharCode;var c;for(c=0;c<26;c++){n=d(o+c);i=t+n;var s="*[id="+i+"]";var f="";if(document.querySelectorAll){f=document.querySelectorAll(s)}else{f=p(i)}var u=f.length;if(u){if(u>1){var v=0;var m=1;while(v<u){r=f[v];if(v){r["__bid__"]=n+m;r["id"]=i+m;m++}else{r["__bid__"]=n}e.push(r);v++}}else{r=l(i);r["__bid__"]=n;e.push(r)}}}for(c=0;c<26;c++){a=d(o+c);var g=false;for(var b=0;b<26;b++){n=d(o+b);i=t+a+n;r=l(i);if(r){g=true;r["__bid__"]=a+n;e.push(r)}}}return e}function f(){var e={};var t=[];var n="block-";var a=document.getElementsByTagName("qchunk");var i,r;for(var o=0,l=a.length;o<l;o++){i=a[o];r=i.getAttribute("data-id")||"";if(r.substr(0,n.length).toLowerCase()==n){var d=r.substr(n.length);if(!e[d]){e[d]=1}else{var c=++e[d];var s;do{s=d[0];s=s+c;c++}while(e[s]);e[s]=1;i.setAttribute("data-id",s);d=s}i["__bid__"]=d;t.push(i)}}return t}function D(e,t,n){if(e._clickMapPBSent){return false}e._clickMapPBSent=true;if(t===n){t._c=1;return true}if(t._c>=1){t._c++;return false}else{if(typeof t._c!=="number"){t._c=1}else{t._c++}if(!t._adjustClickMap){var a=function(){this._c=0};t._adjustClickMap=a.bind(t);try{if(t.addEventListener){t.addEventListener("mousedown",t._adjustClickMap,false)}else{t.attachEvent("onmousedown",t._adjustClickMap)}}catch(e){}}}return true}var d=function(e){e=e||window.event;var t=e.target||e.srcElement;var n=e.currentTarget||this;if(!D(e,t,n)){return}var a=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop;var i=document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft;var r=document.documentElement&&document.documentElement.scrollWidth||document.body.scrollWidth;var o=document.documentElement&&document.documentElement.scrollHeight||document.body.scrollHeight;var l=document.documentElement&&document.documentElement.clientHeight||document.body.clientHeight;var d=document.documentElement&&document.documentElement.clientWidth||document.body.clientWidth;var c=Math.max(o,l);var s=Math.max(r,d);var f=this["__bid__"]||"";var u=R(document.getElementsByTagName("body")[0].getAttribute("data-pb"),"&");var v=R(this.getAttribute("data-pb"),"&");var m,g,b;do{m=t;g=m.getAttribute("rseat");b=m.tagName.toUpperCase();t=t.parentNode;if(m==this){break}}while(!g&&b!=="A"&&b!=="IMG");var p=R(m.getAttribute("data-pb"),"&");var w,_,h,y;var k=t&&t.tagName&&t.tagName.toUpperCase()==="A";if(g){y=g.match(/_AB_(.+)_TEST/);if(y){var E=g.split(/_AB_.+_TEST/);g=E[0]+(E[1]||"");y=y[1].split("--");y=/(android)|(like mac os x)/i.test(N)?y[1]:y[0]}p.rseat=g}if(b==="A"){w=m.title||"";_="a";h=m.getAttribute("href")||""}else if(b==="IMG"){w=m.alt||"";_="i";h=""}else{w=m.title||"";_="e";h=""}if(b!=="A"&&k){if(t.getAttribute("href")){if(t.getAttribute("href").indexOf("javascript")==-1){h=location.protocol+t.getAttribute("href").replace(/^((http|https):)/,"")||""}else{h=t.getAttribute("href")}}}var A,P,I,C,q;C=R(document.cookie,";");A=C["P00003"]||"";P=C["QC005"]||"";I=C["QC006"]||"";try{q=JSON.parse(C["QYABEX"]||"{}")}catch(e){q={}}var M=window.Q&&Q.PageInfo||{};if(window.uniqy){M=window.uniqy&&uniqy.PageInfo||{}}var S=M.i18n==="tw_t"?false:true;var T;if(S){T="cn_s"}else{T="tw_t"}var L={block:f,rt:_,r:w,rlink:h,de:C["QC008"]||"",pu:decodeURIComponent(A),u:decodeURIComponent(P),jsuid:decodeURIComponent(I),stime:(new Date).getTime(),ce:window.webEventID||"",re:s+"*"+c,clkx:e.clientX+i,clky:e.clientY+a,rn:Math.round(Math.random()*2147483647),wsc_osl:navigator&&navigator.language||"",mod:T,dfp:lib&&lib.action&&lib.action.getDFP&&lib.action.getDFP(),tm:window.__qlt&&window.__qlt.statisticsStart?new Date-window.__qlt.statisticsStart:""};if(y&&q[y]&&q[y].abtest){L.abtest=q[y].abtest}var j=window.intlPageInfo||{};if(j.i18n==="global"){var B=j.pbInfos||{};var x=new lib.kit.Url(document.location.href);L["lang"]=x.getParam("lang")||B.lang||"";L["mod"]=x.getParam("mod")||B.mod||"";L["rpage"]=B.rpage||"";if(B.pbClickParams){window.pingbackParams=B.pbClickParams}}if(window.pingbackParams){if(Object.assign){L=Object.assign({},window.pingbackParams,L)}else{L=H({},window.pingbackParams,L)}}if(window.Q&&Q.PageInfo&&Q.PageInfo.playPageInfo&&Q.PageInfo.playPageInfo.videoTemplate){L.tmplt=Q.PageInfo.playPageInfo.videoTemplate||""}U(H(L,u,v,p),O)};var o=function(){var e=s();var t=window.intlPageInfo||{};if(t.i18n==="global"){var n=t.pbInfos||{};if(n.blockInfo){e=c(n.blockInfo)}}var a=f();var i,r;for(var o=0,l=e.length;o<l;o++){if(a.indexOf(e[o])==-1){a.push(e[o])}}var d=document.getElementsByTagName("body")[0];d.__bid__="body";a.push(d);return a};var u=o();var l=function(e){var t=u||[];if(e&&e.data){t=e.data.down("[data-block-name]")||[];if(t.length===0){return}var n="block-";t.forEach(function(e){e["__bid__"]=e.id.substr(n.length)})}for(var a=0,i=t.length;a<i;a++){var r=t[a];var o="";if(window.Q){o=Q(r)}else if(window.jQuery){o=$(r)}if(o.attr("data-asyn-pb")){continue}var l=d.bind(r);if(r.addEventListener){r.addEventListener("mousedown",l,false)}else{r.attachEvent("onmousedown",l)}o.attr("data-asyn-pb","true")}};var v=function(){var e=u||[];if(e.length){for(var t=0,n=e.length;t<n;t++){var a=e[t];if(a.getAttribute("data-asyn-pb")){continue}var i=d.bind(a);if(a.addEventListener){a.addEventListener("mousedown",i,false)}else{a.attachEvent("onmousedown",i)}a.setAttribute("data-asyn-pb","true")}}};var m=function(e){if(e.length){for(var t=0,n=e.length;t<n;t++){var a=e[t];if(a.getAttribute("data-asyn-pb")){a.removeAttribute("data-asyn-pb")}}}};if(window.Q&&Q.$){Q.$(window).on("scroll",l);Q.$(window).on("resize",l);Q.event.customEvent.on("bindingPingback",l);l()}else if(window.jQuery){try{$(window).on("scroll",l);$(window).on("resize",l);l()}catch(e){}}else{v()}function R(e,t){var n={};t=t||"&";if(e){var a=e.split(t),i;for(var r=0,o=a.length;r<o;r++){i=a[r];if(i){i=i.split(/\s*=\s*/g);if(i[0]){n[i[0].replace(/^\s*|\s*$/g,"")]=i[1]||""}}}}return n}function H(e,t){var n=e||{};var a;for(var i=1,r=arguments.length;i<r;i++){a=arguments[i];if(a){for(var o in a){if(a.hasOwnProperty(o)){n[o]=a[o]}}}}return n}lib.action.Qa.prototype.reloadClickMap=function(){u=o();this.qchunks=u;m(u);v()};if(window.lib&&window.lib.action&&window.lib.action.Qa){if(window.postMessage){window.postMessage("qaLoad",location.href)}}})();